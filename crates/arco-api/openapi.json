{
  "openapi": "3.1.0",
  "info": {
    "title": "Arco API",
    "description": "Arco catalog REST API (M4/M5)",
    "contact": {
      "name": "Daxis",
      "email": "engineering@daxis.io"
    },
    "license": {
      "name": "Apache-2.0",
      "identifier": "Apache-2.0"
    },
    "version": "0.1.0"
  },
  "paths": {
    "/api/v1/browser/urls": {
      "post": {
        "tags": [
          "browser"
        ],
        "summary": "Mint signed URLs for browser-based reads.",
        "description": "POST /api/v1/browser/urls\n\n## Security\n\n- Only paths in the current manifest's `SnapshotInfo.files` are mintable\n- Ledger and manifest paths are rejected\n- Cross-tenant paths are rejected (tenant scoping)\n- Path traversal attempts are rejected\n- TTL is bounded to maximum 1 hour",
        "operationId": "mint_urls",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MintUrlsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Signed URLs minted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MintUrlsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/catalogs": {
      "get": {
        "tags": [
          "catalogs"
        ],
        "summary": "List catalogs.",
        "description": "GET /api/v1/catalogs",
        "operationId": "list_catalogs",
        "responses": {
          "200": {
            "description": "Catalogs listed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListCatalogsResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "catalogs"
        ],
        "summary": "Create a catalog.",
        "description": "POST /api/v1/catalogs",
        "operationId": "create_catalog",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCatalogRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Catalog created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CatalogResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/catalogs/{catalog}/schemas": {
      "get": {
        "tags": [
          "schemas"
        ],
        "summary": "List schemas in a catalog.",
        "description": "GET /api/v1/catalogs/{catalog}/schemas",
        "operationId": "list_schemas",
        "parameters": [
          {
            "name": "catalog",
            "in": "path",
            "description": "Catalog name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Schemas listed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListSchemasResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "schemas"
        ],
        "summary": "Create a schema in a catalog.",
        "description": "POST /api/v1/catalogs/{catalog}/schemas",
        "operationId": "create_schema",
        "parameters": [
          {
            "name": "catalog",
            "in": "path",
            "description": "Catalog name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSchemaRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Schema created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SchemaResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/catalogs/{catalog}/schemas/{schema}/tables": {
      "get": {
        "tags": [
          "tables"
        ],
        "summary": "List tables in a schema.",
        "description": "GET /api/v1/catalogs/{catalog}/schemas/{schema}/tables",
        "operationId": "list_tables_in_schema",
        "parameters": [
          {
            "name": "catalog",
            "in": "path",
            "description": "Catalog name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "schema",
            "in": "path",
            "description": "Schema name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tables listed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListSchemaTablesResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "tables"
        ],
        "summary": "Register a table in a schema.",
        "description": "POST /api/v1/catalogs/{catalog}/schemas/{schema}/tables",
        "operationId": "register_table_in_schema",
        "parameters": [
          {
            "name": "catalog",
            "in": "path",
            "description": "Catalog name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "schema",
            "in": "path",
            "description": "Schema name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterSchemaTableRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Table registered",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SchemaTableResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/catalogs/{catalog}/schemas/{schema}/tables/{name}": {
      "get": {
        "tags": [
          "tables"
        ],
        "summary": "Get a table by name in a schema.",
        "description": "GET /api/v1/catalogs/{catalog}/schemas/{schema}/tables/{name}",
        "operationId": "get_table_in_schema",
        "parameters": [
          {
            "name": "catalog",
            "in": "path",
            "description": "Catalog name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "schema",
            "in": "path",
            "description": "Schema name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "path",
            "description": "Table name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Table found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SchemaTableResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/catalogs/{name}": {
      "get": {
        "tags": [
          "catalogs"
        ],
        "summary": "Get a catalog by name.",
        "description": "GET /api/v1/catalogs/{name}",
        "operationId": "get_catalog",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Catalog name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Catalog found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CatalogResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/delta/tables/{table_id}/commits": {
      "post": {
        "tags": [
          "delta"
        ],
        "summary": "Commit a staged Delta payload.",
        "description": "POST `/api/v1/delta/tables/{table_id}/commits`",
        "operationId": "commit_staged",
        "parameters": [
          {
            "name": "table_id",
            "in": "path",
            "description": "Table ID (UUID)",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Idempotency-Key",
            "in": "header",
            "description": "Idempotency key (UUIDv7)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommitRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Commit succeeded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommitResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/delta/tables/{table_id}/commits/stage": {
      "post": {
        "tags": [
          "delta"
        ],
        "summary": "Stage a Delta commit payload.",
        "description": "POST `/api/v1/delta/tables/{table_id}/commits/stage`",
        "operationId": "stage_commit_payload",
        "parameters": [
          {
            "name": "table_id",
            "in": "path",
            "description": "Table ID (UUID)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StageCommitRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Payload staged",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StageCommitResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/lineage/edges": {
      "post": {
        "tags": [
          "lineage"
        ],
        "summary": "Add lineage edge(s).",
        "description": "POST /api/v1/lineage/edges",
        "operationId": "add_edges",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddEdgesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Edges added",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AddEdgesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/lineage/{table_id}": {
      "get": {
        "tags": [
          "lineage"
        ],
        "summary": "Get lineage for a table.",
        "description": "`GET /api/v1/lineage/{table_id}`",
        "operationId": "get_lineage",
        "parameters": [
          {
            "name": "table_id",
            "in": "path",
            "description": "Table ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lineage graph",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LineageResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/namespaces": {
      "get": {
        "tags": [
          "namespaces"
        ],
        "summary": "List all namespaces.",
        "description": "GET /api/v1/namespaces",
        "operationId": "list_namespaces",
        "responses": {
          "200": {
            "description": "Namespaces listed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListNamespacesResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "namespaces"
        ],
        "summary": "Create a namespace.",
        "description": "POST /api/v1/namespaces",
        "operationId": "create_namespace",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateNamespaceRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Namespace created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NamespaceResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/namespaces/{namespace}/tables": {
      "get": {
        "tags": [
          "tables"
        ],
        "summary": "List tables in a namespace.",
        "description": "GET /api/v1/namespaces/{namespace}/tables",
        "operationId": "list_tables",
        "parameters": [
          {
            "name": "namespace",
            "in": "path",
            "description": "Namespace name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tables listed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListTablesResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Namespace not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "tables"
        ],
        "summary": "Register a table.",
        "description": "POST /api/v1/namespaces/{namespace}/tables",
        "operationId": "register_table",
        "parameters": [
          {
            "name": "namespace",
            "in": "path",
            "description": "Namespace name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterTableRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Table registered",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TableResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Namespace not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/namespaces/{namespace}/tables/{name}": {
      "get": {
        "tags": [
          "tables"
        ],
        "summary": "Get a table by name.",
        "description": "GET /api/v1/namespaces/{namespace}/tables/{name}",
        "operationId": "get_table",
        "parameters": [
          {
            "name": "namespace",
            "in": "path",
            "description": "Namespace name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "path",
            "description": "Table name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Table found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TableResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "tables"
        ],
        "summary": "Update a table.",
        "description": "PUT /api/v1/namespaces/{namespace}/tables/{name}",
        "operationId": "update_table",
        "parameters": [
          {
            "name": "namespace",
            "in": "path",
            "description": "Namespace name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "path",
            "description": "Table name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTableRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Table updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TableResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "tables"
        ],
        "summary": "Drop a table.",
        "description": "DELETE /api/v1/namespaces/{namespace}/tables/{name}",
        "operationId": "drop_table",
        "parameters": [
          {
            "name": "namespace",
            "in": "path",
            "description": "Namespace name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "path",
            "description": "Table name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Table dropped"
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/namespaces/{name}": {
      "get": {
        "tags": [
          "namespaces"
        ],
        "summary": "Get a namespace by name.",
        "description": "GET /api/v1/namespaces/{name}",
        "operationId": "get_namespace",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Namespace name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Namespace found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NamespaceResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "namespaces"
        ],
        "summary": "Delete a namespace.",
        "description": "DELETE /api/v1/namespaces/{name}",
        "operationId": "delete_namespace",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "description": "Namespace name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Namespace deleted"
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/query": {
      "post": {
        "tags": [
          "query"
        ],
        "summary": "Execute a SQL query against catalog snapshots.",
        "description": "POST /api/v1/query",
        "operationId": "query",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QueryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Query results (Arrow IPC stream or JSON)"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/query-data": {
      "post": {
        "tags": [
          "query"
        ],
        "summary": "Execute a SQL query against registered user tables.",
        "description": "POST /api/v1/query-data",
        "operationId": "query_data",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QueryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Query results (Arrow IPC stream or JSON)"
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/tasks/{task_id}/completed": {
      "post": {
        "tags": [
          "Worker Callbacks"
        ],
        "summary": "Worker task completed callback.",
        "description": "Called when a worker finishes executing a task (success, failure, or cancellation).",
        "operationId": "task_completed",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskCompletedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Completion acknowledged",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskCompletedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Task not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict (terminal state or attempt mismatch)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "taskAuth": []
          }
        ]
      }
    },
    "/api/v1/tasks/{task_id}/heartbeat": {
      "post": {
        "tags": [
          "Worker Callbacks"
        ],
        "summary": "Worker heartbeat callback.",
        "description": "Called periodically by workers to indicate they're still alive and report progress.",
        "operationId": "task_heartbeat",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HeartbeatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Heartbeat acknowledged",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HeartbeatResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Task not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict (attempt mismatch)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "410": {
            "description": "Task no longer active",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "taskAuth": []
          }
        ]
      }
    },
    "/api/v1/tasks/{task_id}/started": {
      "post": {
        "tags": [
          "Worker Callbacks"
        ],
        "summary": "Worker started execution callback.",
        "description": "Called when a worker begins executing a task.",
        "operationId": "task_started",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "description": "Task ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskStartedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Callback acknowledged",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskStartedResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Invalid or missing token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Task not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict (terminal state or attempt mismatch)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "taskAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/assets/{asset_key}/partitions/summary": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Get partition summary for an asset.",
        "operationId": "get_asset_partition_summary",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "asset_key",
            "in": "path",
            "description": "Asset key (URL-encoded)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Partition summary",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssetPartitionSummaryResponse"
                }
              }
            }
          },
          "404": {
            "description": "Asset not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/backfills": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "List backfills.",
        "operationId": "list_backfills",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum backfills to return",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Pagination cursor",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "state",
            "in": "query",
            "description": "Filter by state",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/BackfillStateResponse"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of backfills",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListBackfillsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Create a new backfill.",
        "operationId": "create_backfill",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBackfillRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Existing backfill returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateBackfillResponse"
                }
              }
            }
          },
          "202": {
            "description": "Backfill accepted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateBackfillResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Workspace not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Idempotency conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "422": {
            "description": "Partition selector not supported",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnprocessableEntityResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/backfills/{backfill_id}": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Get backfill by ID.",
        "operationId": "get_backfill",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "backfill_id",
            "in": "path",
            "description": "Backfill ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Backfill details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackfillResponse"
                }
              }
            }
          },
          "404": {
            "description": "Backfill not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/backfills/{backfill_id}/chunks": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "List backfill chunks.",
        "operationId": "list_backfill_chunks",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "backfill_id",
            "in": "path",
            "description": "Backfill ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum chunks to return",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Pagination cursor",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "state",
            "in": "query",
            "description": "Filter by state",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/ChunkStateResponse"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of chunks",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListBackfillChunksResponse"
                }
              }
            }
          },
          "404": {
            "description": "Backfill not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/manifests": {
      "get": {
        "tags": [
          "Manifests"
        ],
        "summary": "List manifests.",
        "description": "Returns a list of deployed manifests for the workspace.",
        "operationId": "list_manifests",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of manifests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListManifestsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Workspace not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Manifests"
        ],
        "summary": "Deploy a new manifest.",
        "description": "Uploads and registers an asset manifest for the workspace.",
        "operationId": "deploy_manifest",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeployManifestRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Manifest deployed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeployManifestResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid manifest",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Workspace not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/manifests/{manifest_id}": {
      "get": {
        "tags": [
          "Manifests"
        ],
        "summary": "Get manifest by ID.",
        "description": "Returns the full manifest including all asset definitions.",
        "operationId": "get_manifest",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "manifest_id",
            "in": "path",
            "description": "Manifest ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Manifest details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StoredManifest"
                }
              }
            }
          },
          "404": {
            "description": "Manifest not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/partitions": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "List partitions.",
        "operationId": "list_partitions",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum partitions to return",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Pagination cursor",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "assetKey",
            "in": "query",
            "description": "Filter by asset key",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "staleOnly",
            "in": "query",
            "description": "Filter to stale partitions only",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of partitions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListPartitionsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/runs": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "List runs.",
        "description": "Returns a paginated list of runs for the workspace.",
        "operationId": "list_runs",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum runs to return",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Pagination cursor",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "state",
            "in": "query",
            "description": "Filter by state",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/RunStateResponse"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of runs",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListRunsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Workspace not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Trigger a new run.",
        "description": "Creates an execution plan and starts a new run for the selected assets.",
        "operationId": "trigger_run",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TriggerRunRequestOpenApi"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Existing run returned (run_key match)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TriggerRunResponse"
                }
              }
            }
          },
          "201": {
            "description": "Run created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TriggerRunResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Workspace not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "run_key conflict (payload mismatch)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/runs/run-key/backfill": {
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Backfill missing `run_key` fingerprints.",
        "description": "Allows updating legacy reservations that were created before fingerprints\nwere introduced, enabling strict payload validation moving forward.",
        "operationId": "backfill_run_key",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunKeyBackfillRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Backfill result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunKeyBackfillResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "run_key not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "run_key fingerprint conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/runs/{run_id}": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Get run by ID.",
        "description": "Returns the current state and task details for a run.",
        "operationId": "get_run",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Run details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunResponse"
                }
              }
            }
          },
          "404": {
            "description": "Run not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/runs/{run_id}/cancel": {
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Cancel a run.",
        "description": "Initiates cancellation of a running run.",
        "operationId": "cancel_run",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelRunRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Run cancelled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CancelRunResponse"
                }
              }
            }
          },
          "404": {
            "description": "Run not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Run already completed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/runs/{run_id}/logs": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Get logs for a run.",
        "operationId": "get_run_logs",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "taskKey",
            "in": "query",
            "description": "Filter by task key",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Aggregated logs",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Logs not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Upload task logs for a run.",
        "operationId": "upload_run_logs",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunLogsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Logs stored",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunLogsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Workspace not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Log already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/runs/{run_id}/rerun": {
      "post": {
        "tags": [
          "Orchestration"
        ],
        "operationId": "rerun_run",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "run_id",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RerunRunRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Existing rerun returned (run_key match)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RerunRunResponse"
                }
              }
            }
          },
          "201": {
            "description": "Rerun created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RerunRunResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Run not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/schedules": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "List schedules.",
        "operationId": "list_schedules",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum schedules to return",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Pagination cursor",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of schedules",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListSchedulesResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/schedules/{schedule_id}": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Get schedule by ID.",
        "operationId": "get_schedule",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "schedule_id",
            "in": "path",
            "description": "Schedule ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Schedule details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleResponse"
                }
              }
            }
          },
          "404": {
            "description": "Schedule not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/schedules/{schedule_id}/ticks": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "List schedule ticks.",
        "operationId": "list_schedule_ticks",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "schedule_id",
            "in": "path",
            "description": "Schedule ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum ticks to return",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Pagination cursor",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by status",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/TickStatusResponse"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of ticks",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListScheduleTicksResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/sensors": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "List sensors.",
        "operationId": "list_sensors",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum sensors to return",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Pagination cursor",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of sensors",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListSensorsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/sensors/{sensor_id}": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Get sensor by ID.",
        "operationId": "get_sensor",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sensor_id",
            "in": "path",
            "description": "Sensor ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Sensor details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SensorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Sensor not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/sensors/{sensor_id}/evals": {
      "get": {
        "tags": [
          "Orchestration"
        ],
        "summary": "List sensor evaluations.",
        "operationId": "list_sensor_evals",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sensor_id",
            "in": "path",
            "description": "Sensor ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum evaluations to return",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "Pagination cursor",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of evaluations",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListSensorEvalsResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/workspaces/{workspace_id}/sensors/{sensor_id}/evaluate": {
      "post": {
        "tags": [
          "Orchestration"
        ],
        "summary": "Manually evaluate a sensor with an arbitrary payload.",
        "operationId": "manual_evaluate_sensor",
        "parameters": [
          {
            "name": "workspace_id",
            "in": "path",
            "description": "Workspace ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sensor_id",
            "in": "path",
            "description": "Sensor ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualSensorEvaluateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Sensor evaluated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualSensorEvaluateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          },
          "404": {
            "description": "Workspace not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorBody"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AddEdgesRequest": {
        "type": "object",
        "description": "Request to add lineage edge(s).",
        "required": [
          "edges"
        ],
        "properties": {
          "edges": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EdgeDefinition"
            },
            "description": "List of edges to add."
          }
        }
      },
      "AddEdgesResponse": {
        "type": "object",
        "description": "Add edges response.",
        "required": [
          "added"
        ],
        "properties": {
          "added": {
            "type": "integer",
            "description": "Number of edges added.",
            "minimum": 0
          }
        }
      },
      "ApiErrorBody": {
        "type": "object",
        "description": "Standard JSON error response body.",
        "required": [
          "code",
          "message"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "Stable machine-readable error code."
          },
          "message": {
            "type": "string",
            "description": "Human-readable message (safe for clients)."
          },
          "requestId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional request ID for correlation."
          }
        }
      },
      "AssetDependency": {
        "type": "object",
        "description": "Asset dependency.",
        "required": [
          "upstreamKey"
        ],
        "properties": {
          "mapping": {
            "type": "string",
            "description": "Partition mapping strategy."
          },
          "parameterName": {
            "type": "string",
            "description": "Parameter name in function signature."
          },
          "upstreamKey": {
            "$ref": "#/components/schemas/AssetKey",
            "description": "Upstream asset key."
          }
        }
      },
      "AssetEntry": {
        "type": "object",
        "description": "Asset entry in manifest.",
        "required": [
          "key",
          "id"
        ],
        "properties": {
          "checks": {
            "type": "array",
            "items": {},
            "description": "Data quality checks."
          },
          "code": {
            "description": "Code location."
          },
          "dependencies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AssetDependency"
            },
            "description": "Dependencies on other assets."
          },
          "description": {
            "type": "string",
            "description": "Asset description."
          },
          "execution": {
            "description": "Execution configuration."
          },
          "id": {
            "type": "string",
            "description": "Asset ID (UUID)."
          },
          "io": {
            "description": "I/O configuration."
          },
          "key": {
            "$ref": "#/components/schemas/AssetKey",
            "description": "Asset key (namespace + name)."
          },
          "owners": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Asset owners."
          },
          "partitioning": {
            "description": "Partitioning configuration."
          },
          "resources": {
            "description": "Resource requirements."
          },
          "tags": {
            "description": "Asset tags."
          },
          "transformFingerprint": {
            "type": "string",
            "description": "Transform fingerprint for change detection."
          }
        }
      },
      "AssetKey": {
        "type": "object",
        "description": "Asset key (namespace + name).",
        "required": [
          "namespace",
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Asset name."
          },
          "namespace": {
            "type": "string",
            "description": "Namespace."
          }
        }
      },
      "AssetPartitionSummaryResponse": {
        "type": "object",
        "description": "Asset partition summary response.",
        "required": [
          "assetKey",
          "totalPartitions",
          "materializedPartitions",
          "stalePartitions",
          "missingPartitions"
        ],
        "properties": {
          "assetKey": {
            "type": "string",
            "description": "Asset key."
          },
          "materializedPartitions": {
            "type": "integer",
            "format": "int32",
            "description": "Materialized partition count.",
            "minimum": 0
          },
          "missingPartitions": {
            "type": "integer",
            "format": "int32",
            "description": "Missing partition count.",
            "minimum": 0
          },
          "stalePartitions": {
            "type": "integer",
            "format": "int32",
            "description": "Stale partition count.",
            "minimum": 0
          },
          "totalPartitions": {
            "type": "integer",
            "format": "int32",
            "description": "Total partition count.",
            "minimum": 0
          }
        }
      },
      "BackfillChunkResponse": {
        "type": "object",
        "description": "Backfill chunk response.",
        "required": [
          "chunkId",
          "backfillId",
          "chunkIndex",
          "partitionKeys",
          "runKey",
          "state"
        ],
        "properties": {
          "backfillId": {
            "type": "string",
            "description": "Backfill identifier."
          },
          "chunkId": {
            "type": "string",
            "description": "Chunk identifier."
          },
          "chunkIndex": {
            "type": "integer",
            "format": "int32",
            "description": "Zero-indexed chunk number.",
            "minimum": 0
          },
          "partitionKeys": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Partition keys in this chunk."
          },
          "runId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Run ID if resolved."
          },
          "runKey": {
            "type": "string",
            "description": "Run key for this chunk."
          },
          "state": {
            "$ref": "#/components/schemas/ChunkStateResponse",
            "description": "Chunk state."
          }
        }
      },
      "BackfillResponse": {
        "type": "object",
        "description": "Backfill response.",
        "required": [
          "backfillId",
          "assetSelection",
          "partitionSelector",
          "chunkSize",
          "maxConcurrentRuns",
          "state",
          "stateVersion",
          "createdAt",
          "chunkCounts"
        ],
        "properties": {
          "assetSelection": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Assets to backfill."
          },
          "backfillId": {
            "type": "string",
            "description": "Backfill identifier."
          },
          "chunkCounts": {
            "$ref": "#/components/schemas/ChunkCounts",
            "description": "Chunk counts by state."
          },
          "chunkSize": {
            "type": "integer",
            "format": "int32",
            "description": "Number of partitions per chunk.",
            "minimum": 0
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the backfill was created."
          },
          "maxConcurrentRuns": {
            "type": "integer",
            "format": "int32",
            "description": "Maximum concurrent chunk runs.",
            "minimum": 0
          },
          "partitionSelector": {
            "$ref": "#/components/schemas/PartitionSelectorResponse",
            "description": "Partition selector."
          },
          "state": {
            "$ref": "#/components/schemas/BackfillStateResponse",
            "description": "Current state."
          },
          "stateVersion": {
            "type": "integer",
            "format": "int32",
            "description": "State version (for CAS).",
            "minimum": 0
          }
        }
      },
      "BackfillStateResponse": {
        "type": "string",
        "description": "Backfill state values.",
        "enum": [
          "PENDING",
          "RUNNING",
          "PAUSED",
          "SUCCEEDED",
          "FAILED",
          "CANCELLED"
        ]
      },
      "CallbackErrorResponse": {
        "type": "object",
        "description": "Callback error response per ADR-023.",
        "required": [
          "error",
          "message"
        ],
        "properties": {
          "error": {
            "type": "string",
            "description": "Error code."
          },
          "expectedAttempt": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Expected attempt (for 409 Conflict).",
            "minimum": 0
          },
          "expectedAttemptId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Expected attempt ID (for 409 Conflict)."
          },
          "message": {
            "type": "string",
            "description": "Human-readable message."
          },
          "receivedAttempt": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Received attempt (for 409 Conflict).",
            "minimum": 0
          },
          "receivedAttemptId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Received attempt ID (for 409 Conflict)."
          },
          "state": {
            "type": [
              "string",
              "null"
            ],
            "description": "Current task state (for 409 Conflict)."
          }
        }
      },
      "CancelRunRequest": {
        "type": "object",
        "description": "Request to cancel a run.",
        "properties": {
          "reason": {
            "type": [
              "string",
              "null"
            ],
            "description": "Reason for cancellation."
          }
        }
      },
      "CancelRunResponse": {
        "type": "object",
        "description": "Response after cancelling a run.",
        "required": [
          "runId",
          "state",
          "cancelledAt"
        ],
        "properties": {
          "cancelledAt": {
            "type": "string",
            "format": "date-time",
            "description": "Cancellation timestamp."
          },
          "runId": {
            "type": "string",
            "description": "Run ID."
          },
          "state": {
            "$ref": "#/components/schemas/RunStateResponse",
            "description": "New state (should be CANCELLED or CANCELLING)."
          }
        }
      },
      "CatalogResponse": {
        "type": "object",
        "description": "Catalog response.",
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "description": "Creation timestamp (ISO 8601)."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "id": {
            "type": "string",
            "description": "Catalog ID."
          },
          "name": {
            "type": "string",
            "description": "Catalog name."
          },
          "updated_at": {
            "type": "string",
            "description": "Last update timestamp (ISO 8601)."
          }
        }
      },
      "ChunkCounts": {
        "type": "object",
        "description": "Chunk counts by state.",
        "required": [
          "total",
          "pending",
          "running",
          "succeeded",
          "failed"
        ],
        "properties": {
          "failed": {
            "type": "integer",
            "format": "int32",
            "description": "Failed chunks.",
            "minimum": 0
          },
          "pending": {
            "type": "integer",
            "format": "int32",
            "description": "Pending chunks.",
            "minimum": 0
          },
          "running": {
            "type": "integer",
            "format": "int32",
            "description": "Running chunks.",
            "minimum": 0
          },
          "succeeded": {
            "type": "integer",
            "format": "int32",
            "description": "Succeeded chunks.",
            "minimum": 0
          },
          "total": {
            "type": "integer",
            "format": "int32",
            "description": "Total chunks.",
            "minimum": 0
          }
        }
      },
      "ChunkStateResponse": {
        "type": "string",
        "description": "Chunk state values.",
        "enum": [
          "PENDING",
          "PLANNED",
          "RUNNING",
          "SUCCEEDED",
          "FAILED"
        ]
      },
      "ColumnDefinition": {
        "type": "object",
        "description": "Column definition for table registration.",
        "required": [
          "name",
          "data_type"
        ],
        "properties": {
          "data_type": {
            "type": "string",
            "description": "Column data type."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "name": {
            "type": "string",
            "description": "Column name."
          },
          "nullable": {
            "type": "boolean",
            "description": "Whether the column is nullable."
          }
        }
      },
      "ColumnResponse": {
        "type": "object",
        "description": "Column response.",
        "required": [
          "id",
          "name",
          "data_type",
          "nullable",
          "position"
        ],
        "properties": {
          "data_type": {
            "type": "string",
            "description": "Column data type."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "id": {
            "type": "string",
            "description": "Column ID."
          },
          "name": {
            "type": "string",
            "description": "Column name."
          },
          "nullable": {
            "type": "boolean",
            "description": "Whether the column is nullable."
          },
          "position": {
            "type": "integer",
            "format": "int32",
            "description": "Column position (0-indexed)."
          }
        }
      },
      "CommitRequest": {
        "type": "object",
        "required": [
          "read_version",
          "staged_path",
          "staged_version"
        ],
        "properties": {
          "read_version": {
            "type": "integer",
            "format": "int64",
            "description": "Optimistic concurrency token: the version the client read."
          },
          "staged_path": {
            "type": "string",
            "description": "Path returned by the stage endpoint."
          },
          "staged_version": {
            "type": "string",
            "description": "Version returned by the stage endpoint."
          }
        }
      },
      "CommitResponse": {
        "type": "object",
        "required": [
          "version",
          "delta_log_path"
        ],
        "properties": {
          "delta_log_path": {
            "type": "string"
          },
          "version": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "CreateBackfillRequest": {
        "type": "object",
        "description": "Request to create a backfill.",
        "required": [
          "partitionSelector"
        ],
        "properties": {
          "assetSelection": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Assets to backfill."
          },
          "chunkSize": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Number of partitions per chunk (0 uses default).",
            "minimum": 0
          },
          "clientRequestId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Client request ID for idempotency."
          },
          "maxConcurrentRuns": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Maximum concurrent chunk runs (0 uses default).",
            "minimum": 0
          },
          "partitionSelector": {
            "$ref": "#/components/schemas/PartitionSelectorRequest",
            "description": "Partition selector."
          }
        }
      },
      "CreateBackfillResponse": {
        "type": "object",
        "description": "Response after creating a backfill.",
        "required": [
          "backfillId",
          "acceptedEventId",
          "acceptedAt"
        ],
        "properties": {
          "acceptedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Time the event was accepted."
          },
          "acceptedEventId": {
            "type": "string",
            "description": "Event ID that was accepted."
          },
          "backfillId": {
            "type": "string",
            "description": "Backfill identifier."
          }
        }
      },
      "CreateCatalogRequest": {
        "type": "object",
        "description": "Request to create a catalog.",
        "required": [
          "name"
        ],
        "properties": {
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "name": {
            "type": "string",
            "description": "Catalog name (unique within workspace)."
          }
        }
      },
      "CreateNamespaceRequest": {
        "type": "object",
        "description": "Request to create a namespace.",
        "required": [
          "name"
        ],
        "properties": {
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "name": {
            "type": "string",
            "description": "Namespace name (must be unique within workspace)."
          }
        }
      },
      "CreateSchemaRequest": {
        "type": "object",
        "description": "Request to create a schema in a catalog.",
        "required": [
          "name"
        ],
        "properties": {
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "name": {
            "type": "string",
            "description": "Schema name (unique within catalog)."
          }
        }
      },
      "DeployManifestRequest": {
        "type": "object",
        "description": "Request to deploy a new manifest.",
        "required": [
          "manifestVersion",
          "codeVersionId",
          "assets"
        ],
        "properties": {
          "assets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AssetEntry"
            },
            "description": "Asset definitions."
          },
          "codeVersionId": {
            "type": "string",
            "description": "Code version identifier (e.g., git commit SHA)."
          },
          "deployedBy": {
            "type": [
              "string",
              "null"
            ],
            "description": "Who deployed this manifest."
          },
          "git": {
            "$ref": "#/components/schemas/GitContext",
            "description": "Git context for provenance."
          },
          "manifestVersion": {
            "type": "string",
            "description": "Manifest version (e.g., \"1.0\")."
          },
          "metadata": {
            "description": "Additional metadata."
          },
          "schedules": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScheduleEntry"
            },
            "description": "Cron schedules (optional)."
          }
        }
      },
      "DeployManifestResponse": {
        "type": "object",
        "description": "Response after deploying a manifest.",
        "required": [
          "manifestId",
          "workspaceId",
          "codeVersionId",
          "fingerprint",
          "assetCount",
          "deployedAt"
        ],
        "properties": {
          "assetCount": {
            "type": "integer",
            "format": "int32",
            "description": "Number of assets in manifest.",
            "minimum": 0
          },
          "codeVersionId": {
            "type": "string",
            "description": "Code version ID."
          },
          "deployedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Deployment timestamp."
          },
          "fingerprint": {
            "type": "string",
            "description": "Content fingerprint (SHA-256)."
          },
          "manifestId": {
            "type": "string",
            "description": "Manifest ID (ULID)."
          },
          "workspaceId": {
            "type": "string",
            "description": "Workspace ID."
          }
        }
      },
      "EdgeDefinition": {
        "type": "object",
        "description": "Edge definition for lineage.",
        "required": [
          "source_id",
          "target_id"
        ],
        "properties": {
          "edge_type": {
            "type": "string",
            "description": "Edge type (e.g., `derives_from`, `copies`, `transforms`)."
          },
          "run_id": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional run ID that created this edge."
          },
          "source_id": {
            "type": "string",
            "description": "Source table ID (upstream)."
          },
          "target_id": {
            "type": "string",
            "description": "Target table ID (downstream)."
          }
        }
      },
      "EdgeResponse": {
        "type": "object",
        "description": "Lineage edge response.",
        "required": [
          "id",
          "source_id",
          "target_id",
          "edge_type",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "description": "Creation timestamp (ISO 8601)."
          },
          "edge_type": {
            "type": "string",
            "description": "Edge type."
          },
          "id": {
            "type": "string",
            "description": "Edge ID."
          },
          "run_id": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional run ID."
          },
          "source_id": {
            "type": "string",
            "description": "Source table ID."
          },
          "target_id": {
            "type": "string",
            "description": "Target table ID."
          }
        }
      },
      "ErrorCategory": {
        "type": "string",
        "description": "Error category per ADR-023.",
        "enum": [
          "USER_CODE",
          "DATA_QUALITY",
          "INFRASTRUCTURE",
          "CONFIGURATION",
          "TIMEOUT",
          "CANCELLED"
        ]
      },
      "GitContext": {
        "type": "object",
        "description": "Git context for deployment provenance.",
        "properties": {
          "author": {
            "type": "string",
            "description": "Author."
          },
          "branch": {
            "type": "string",
            "description": "Branch name."
          },
          "commitMessage": {
            "type": "string",
            "description": "Commit message."
          },
          "commitSha": {
            "type": "string",
            "description": "Commit SHA."
          },
          "dirty": {
            "type": "boolean",
            "description": "Whether working directory was dirty."
          },
          "repository": {
            "type": "string",
            "description": "Repository URL."
          }
        }
      },
      "HeartbeatRequest": {
        "type": "object",
        "description": "Request body for `/v1/tasks/{task_id}/heartbeat`.",
        "required": [
          "attempt",
          "attemptId",
          "workerId"
        ],
        "properties": {
          "attempt": {
            "type": "integer",
            "format": "int32",
            "description": "Attempt number.",
            "minimum": 0
          },
          "attemptId": {
            "type": "string",
            "description": "Attempt identifier (ULID) - concurrency guard."
          },
          "heartbeatAt": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "When heartbeat was sent (optional, uses server time if omitted)."
          },
          "message": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional status message."
          },
          "progressPct": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Optional progress percentage (0-100).",
            "minimum": 0
          },
          "traceparent": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional W3C traceparent for distributed tracing."
          },
          "workerId": {
            "type": "string",
            "description": "Worker identifier."
          }
        }
      },
      "HeartbeatResponse": {
        "type": "object",
        "description": "Response body for successful `/v1/tasks/{task_id}/heartbeat`.",
        "required": [
          "acknowledged",
          "shouldCancel",
          "serverTime"
        ],
        "properties": {
          "acknowledged": {
            "type": "boolean",
            "description": "Whether the heartbeat was acknowledged."
          },
          "cancelReason": {
            "type": [
              "string",
              "null"
            ],
            "description": "Reason for cancellation (if `should_cancel` is true)."
          },
          "serverTime": {
            "type": "string",
            "format": "date-time",
            "description": "Server timestamp."
          },
          "shouldCancel": {
            "type": "boolean",
            "description": "Whether the worker should cancel."
          }
        }
      },
      "LineageResponse": {
        "type": "object",
        "description": "Get lineage response.",
        "required": [
          "table_id",
          "upstream",
          "downstream"
        ],
        "properties": {
          "downstream": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EdgeResponse"
            },
            "description": "Downstream edges (tables that depend on this table)."
          },
          "table_id": {
            "type": "string",
            "description": "Table ID queried."
          },
          "upstream": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EdgeResponse"
            },
            "description": "Upstream edges (sources that feed into this table)."
          }
        }
      },
      "ListBackfillChunksResponse": {
        "type": "object",
        "description": "Response for listing backfill chunks.",
        "required": [
          "chunks"
        ],
        "properties": {
          "chunks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BackfillChunkResponse"
            },
            "description": "List of chunks."
          },
          "nextCursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Next page cursor."
          }
        }
      },
      "ListBackfillsQuery": {
        "type": "object",
        "description": "Query parameters for listing backfills.",
        "properties": {
          "cursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Cursor for pagination."
          },
          "limit": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Maximum backfills to return.",
            "minimum": 0
          },
          "state": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/BackfillStateResponse",
                "description": "Filter by state."
              }
            ]
          }
        }
      },
      "ListBackfillsResponse": {
        "type": "object",
        "description": "Response for listing backfills.",
        "required": [
          "backfills"
        ],
        "properties": {
          "backfills": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BackfillResponse"
            },
            "description": "List of backfills."
          },
          "nextCursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Next page cursor."
          }
        }
      },
      "ListCatalogsResponse": {
        "type": "object",
        "description": "List catalogs response.",
        "required": [
          "catalogs"
        ],
        "properties": {
          "catalogs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CatalogResponse"
            },
            "description": "List of catalogs."
          }
        }
      },
      "ListChunksQuery": {
        "type": "object",
        "description": "Query parameters for listing backfill chunks.",
        "properties": {
          "cursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Cursor for pagination."
          },
          "limit": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Maximum chunks to return.",
            "minimum": 0
          },
          "state": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ChunkStateResponse",
                "description": "Filter by state."
              }
            ]
          }
        }
      },
      "ListManifestsResponse": {
        "type": "object",
        "description": "Response for listing manifests.",
        "required": [
          "manifests"
        ],
        "properties": {
          "manifests": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ManifestListItem"
            },
            "description": "List of manifests."
          }
        }
      },
      "ListNamespacesResponse": {
        "type": "object",
        "description": "List namespaces response.",
        "required": [
          "namespaces"
        ],
        "properties": {
          "namespaces": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NamespaceResponse"
            },
            "description": "List of namespaces."
          }
        }
      },
      "ListPartitionsQuery": {
        "type": "object",
        "description": "Query parameters for listing partitions.",
        "properties": {
          "assetKey": {
            "type": [
              "string",
              "null"
            ],
            "description": "Filter by asset key."
          },
          "cursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Cursor for pagination."
          },
          "limit": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Maximum partitions to return.",
            "minimum": 0
          },
          "staleOnly": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "Filter to stale partitions only."
          }
        }
      },
      "ListPartitionsResponse": {
        "type": "object",
        "description": "Response for listing partitions.",
        "required": [
          "partitions"
        ],
        "properties": {
          "nextCursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Next page cursor."
          },
          "partitions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PartitionStatusApiResponse"
            },
            "description": "List of partitions."
          }
        }
      },
      "ListQuery": {
        "type": "object",
        "description": "Common list query parameters.",
        "properties": {
          "cursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Cursor for pagination."
          },
          "limit": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Maximum items to return.",
            "minimum": 0
          }
        }
      },
      "ListRunsResponse": {
        "type": "object",
        "description": "Response for listing runs.",
        "required": [
          "runs"
        ],
        "properties": {
          "nextCursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Next page cursor."
          },
          "runs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RunListItem"
            },
            "description": "List of runs."
          }
        }
      },
      "ListScheduleTicksResponse": {
        "type": "object",
        "description": "Response for listing schedule ticks.",
        "required": [
          "ticks"
        ],
        "properties": {
          "nextCursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Next page cursor."
          },
          "ticks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScheduleTickResponse"
            },
            "description": "List of ticks."
          }
        }
      },
      "ListSchedulesResponse": {
        "type": "object",
        "description": "Response for listing schedules.",
        "required": [
          "schedules"
        ],
        "properties": {
          "nextCursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Next page cursor."
          },
          "schedules": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScheduleResponse"
            },
            "description": "List of schedules."
          }
        }
      },
      "ListSchemaTablesResponse": {
        "type": "object",
        "description": "List tables response.",
        "required": [
          "tables"
        ],
        "properties": {
          "tables": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SchemaTableResponse"
            },
            "description": "List of tables."
          }
        }
      },
      "ListSchemasResponse": {
        "type": "object",
        "description": "List schemas response.",
        "required": [
          "schemas"
        ],
        "properties": {
          "schemas": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SchemaResponse"
            },
            "description": "List of schemas."
          }
        }
      },
      "ListSensorEvalsResponse": {
        "type": "object",
        "description": "Response for listing sensor evaluations.",
        "required": [
          "evals"
        ],
        "properties": {
          "evals": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SensorEvalResponse"
            },
            "description": "List of evaluations."
          },
          "nextCursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Next page cursor."
          }
        }
      },
      "ListSensorsResponse": {
        "type": "object",
        "description": "Response for listing sensors.",
        "required": [
          "sensors"
        ],
        "properties": {
          "nextCursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Next page cursor."
          },
          "sensors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SensorResponse"
            },
            "description": "List of sensors."
          }
        }
      },
      "ListTablesResponse": {
        "type": "object",
        "description": "List tables response.",
        "required": [
          "tables"
        ],
        "properties": {
          "tables": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TableResponse"
            },
            "description": "List of tables."
          }
        }
      },
      "ListTicksQuery": {
        "type": "object",
        "description": "Query parameters for listing schedule ticks.",
        "properties": {
          "cursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Cursor for pagination."
          },
          "limit": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Maximum ticks to return.",
            "minimum": 0
          },
          "status": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TickStatusResponse",
                "description": "Filter by tick status."
              }
            ]
          }
        }
      },
      "ManifestListItem": {
        "type": "object",
        "description": "Manifest list item.",
        "required": [
          "manifestId",
          "codeVersionId",
          "fingerprint",
          "assetCount",
          "deployedAt",
          "deployedBy"
        ],
        "properties": {
          "assetCount": {
            "type": "integer",
            "format": "int32",
            "description": "Number of assets.",
            "minimum": 0
          },
          "codeVersionId": {
            "type": "string",
            "description": "Code version ID."
          },
          "deployedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Deployment timestamp."
          },
          "deployedBy": {
            "type": "string",
            "description": "Who deployed this."
          },
          "fingerprint": {
            "type": "string",
            "description": "Content fingerprint."
          },
          "gitBranch": {
            "type": [
              "string",
              "null"
            ],
            "description": "Git branch (if available)."
          },
          "gitCommit": {
            "type": [
              "string",
              "null"
            ],
            "description": "Git commit (if available)."
          },
          "manifestId": {
            "type": "string",
            "description": "Manifest ID."
          }
        }
      },
      "ManualSensorEvaluateRequest": {
        "type": "object",
        "description": "Request to manually evaluate a sensor.",
        "required": [
          "payload"
        ],
        "properties": {
          "attributes": {
            "type": "object",
            "description": "Message attributes to pass to the evaluator.",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "messageId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional message identifier for idempotency."
          },
          "payload": {
            "description": "Raw payload to pass to the sensor evaluator."
          }
        }
      },
      "ManualSensorEvaluateResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/SensorEvalStatusResponse",
            "description": "Evaluation status."
          },
          {
            "type": "object",
            "required": [
              "evalId",
              "messageId",
              "eventsWritten"
            ],
            "properties": {
              "evalId": {
                "type": "string",
                "description": "Evaluation identifier."
              },
              "eventsWritten": {
                "type": "integer",
                "format": "int32",
                "description": "Number of events written to the ledger.",
                "minimum": 0
              },
              "messageId": {
                "type": "string",
                "description": "Message identifier used for idempotency."
              },
              "runRequests": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/RunRequestResponse"
                },
                "description": "Run requests produced by the evaluation."
              },
              "warning": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Warning if manual evaluate bypassed sensor status (paused/error).\nManual evaluate always runs regardless of sensor operational state."
              }
            }
          }
        ],
        "description": "Response after manually evaluating a sensor."
      },
      "MintUrlsRequest": {
        "type": "object",
        "description": "Request to mint signed URLs.",
        "required": [
          "domain",
          "paths"
        ],
        "properties": {
          "domain": {
            "type": "string",
            "description": "Catalog domain (e.g., \"catalog\", \"lineage\")."
          },
          "paths": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Paths to mint URLs for (must be in manifest allowlist)."
          },
          "ttl_seconds": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "Optional TTL in seconds (max 3600, default 900).",
            "minimum": 0
          }
        }
      },
      "MintUrlsResponse": {
        "type": "object",
        "description": "Response with signed URLs.",
        "required": [
          "urls",
          "ttl_seconds"
        ],
        "properties": {
          "ttl_seconds": {
            "type": "integer",
            "format": "int64",
            "description": "TTL used for all URLs.",
            "minimum": 0
          },
          "urls": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SignedUrl"
            },
            "description": "Signed URLs keyed by path."
          }
        }
      },
      "NamespaceResponse": {
        "type": "object",
        "description": "Namespace response.",
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "description": "Creation timestamp (ISO 8601)."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "id": {
            "type": "string",
            "description": "Namespace ID."
          },
          "name": {
            "type": "string",
            "description": "Namespace name."
          },
          "updated_at": {
            "type": "string",
            "description": "Last update timestamp (ISO 8601)."
          }
        }
      },
      "PartitionSelectorRequest": {
        "oneOf": [
          {
            "type": "object",
            "description": "Range of partitions.",
            "required": [
              "start",
              "end",
              "type"
            ],
            "properties": {
              "end": {
                "type": "string",
                "description": "End partition (inclusive)."
              },
              "start": {
                "type": "string",
                "description": "Start partition (inclusive)."
              },
              "type": {
                "type": "string",
                "enum": [
                  "range"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Explicit list of partitions.",
            "required": [
              "partitions",
              "type"
            ],
            "properties": {
              "partitions": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Partition keys."
              },
              "type": {
                "type": "string",
                "enum": [
                  "explicit"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Filter-based selection.",
            "required": [
              "filters",
              "type"
            ],
            "properties": {
              "filters": {
                "type": "object",
                "description": "Filter expressions.",
                "additionalProperties": {
                  "type": "string"
                },
                "propertyNames": {
                  "type": "string"
                }
              },
              "type": {
                "type": "string",
                "enum": [
                  "filter"
                ]
              }
            }
          }
        ],
        "description": "Partition selector request."
      },
      "PartitionSelectorResponse": {
        "oneOf": [
          {
            "type": "object",
            "description": "Range of partitions.",
            "required": [
              "start",
              "end",
              "type"
            ],
            "properties": {
              "end": {
                "type": "string",
                "description": "End partition (inclusive)."
              },
              "start": {
                "type": "string",
                "description": "Start partition (inclusive)."
              },
              "type": {
                "type": "string",
                "enum": [
                  "range"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Explicit list of partitions.",
            "required": [
              "partitions",
              "type"
            ],
            "properties": {
              "partitions": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Partition keys."
              },
              "type": {
                "type": "string",
                "enum": [
                  "explicit"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Filter-based selection.",
            "required": [
              "filters",
              "type"
            ],
            "properties": {
              "filters": {
                "type": "object",
                "description": "Filter expressions.",
                "additionalProperties": {
                  "type": "string"
                },
                "propertyNames": {
                  "type": "string"
                }
              },
              "type": {
                "type": "string",
                "enum": [
                  "filter"
                ]
              }
            }
          }
        ],
        "description": "Partition selector response."
      },
      "PartitionStatusApiResponse": {
        "type": "object",
        "description": "Partition status response.",
        "required": [
          "assetKey",
          "partitionKey",
          "isStale"
        ],
        "properties": {
          "assetKey": {
            "type": "string",
            "description": "Asset key."
          },
          "isStale": {
            "type": "boolean",
            "description": "Whether this partition is stale."
          },
          "lastMaterializationAt": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "Timestamp of last successful materialization."
          },
          "lastMaterializationRunId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Run that last materialized (success only)."
          },
          "partitionKey": {
            "type": "string",
            "description": "Partition key."
          },
          "partitionValues": {
            "type": "object",
            "description": "Dimension key-values for the partition.",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "staleReason": {
            "type": [
              "string",
              "null"
            ],
            "description": "Why the partition is stale."
          }
        }
      },
      "PartitionValue": {
        "type": "object",
        "description": "Partition key-value pair.",
        "required": [
          "key",
          "value"
        ],
        "properties": {
          "key": {
            "type": "string",
            "description": "Partition dimension name."
          },
          "value": {
            "type": "string",
            "description": "Partition value."
          }
        }
      },
      "QueryRequest": {
        "type": "object",
        "description": "Query request payload.",
        "required": [
          "sql"
        ],
        "properties": {
          "sql": {
            "type": "string",
            "description": "SQL query to execute (read-only)."
          }
        }
      },
      "RegisterSchemaTableRequest": {
        "type": "object",
        "description": "Request to register a table in a schema.",
        "required": [
          "name",
          "columns"
        ],
        "properties": {
          "columns": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ColumnDefinition"
            },
            "description": "Column definitions."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "format": {
            "type": [
              "string",
              "null"
            ],
            "description": "Table format (e.g., \"delta\", \"iceberg\", \"parquet\")."
          },
          "location": {
            "type": [
              "string",
              "null"
            ],
            "description": "Storage location (URI)."
          },
          "name": {
            "type": "string",
            "description": "Table name (must be unique within schema)."
          }
        }
      },
      "RegisterTableRequest": {
        "type": "object",
        "description": "Request to register a table.",
        "required": [
          "name",
          "columns"
        ],
        "properties": {
          "columns": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ColumnDefinition"
            },
            "description": "Table schema (columns)."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "name": {
            "type": "string",
            "description": "Table name (must be unique within namespace)."
          }
        }
      },
      "RerunKindResponse": {
        "type": "string",
        "description": "Rerun kind values exposed in responses.",
        "enum": [
          "FROM_FAILURE",
          "SUBSET"
        ]
      },
      "RerunMode": {
        "type": "string",
        "description": "Rerun mode values.",
        "enum": [
          "fromFailure",
          "subset"
        ]
      },
      "RerunRunRequest": {
        "type": "object",
        "description": "Request to rerun a prior run.",
        "required": [
          "mode"
        ],
        "properties": {
          "includeDownstream": {
            "type": "boolean",
            "description": "Include downstream dependents of the subset."
          },
          "includeUpstream": {
            "type": "boolean",
            "description": "Include upstream dependencies of the subset."
          },
          "labels": {
            "type": "object",
            "description": "Additional labels for the rerun.",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "mode": {
            "$ref": "#/components/schemas/RerunMode",
            "description": "Rerun mode."
          },
          "runKey": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional run key override."
          },
          "selection": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Selection roots for subset reruns."
          }
        }
      },
      "RerunRunResponse": {
        "type": "object",
        "description": "Response after triggering a rerun.",
        "required": [
          "runId",
          "planId",
          "state",
          "created",
          "createdAt",
          "parentRunId",
          "rerunKind"
        ],
        "properties": {
          "created": {
            "type": "boolean",
            "description": "Whether this is a new run or an existing one (`run_key` deduplication)."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Run creation timestamp."
          },
          "parentRunId": {
            "type": "string",
            "description": "Parent run ID."
          },
          "planId": {
            "type": "string",
            "description": "Plan ID for this run."
          },
          "rerunKind": {
            "$ref": "#/components/schemas/RerunKindResponse",
            "description": "Rerun kind."
          },
          "runId": {
            "type": "string",
            "description": "Run ID (ULID)."
          },
          "state": {
            "$ref": "#/components/schemas/RunStateResponse",
            "description": "Current run state."
          }
        }
      },
      "RunKeyBackfillRequest": {
        "type": "object",
        "description": "Request to backfill a `run_key` reservation fingerprint.",
        "required": [
          "runKey"
        ],
        "properties": {
          "includeDownstream": {
            "type": "boolean",
            "description": "Include downstream dependents of the selection."
          },
          "includeUpstream": {
            "type": "boolean",
            "description": "Include upstream dependencies of the selection."
          },
          "labels": {
            "type": "object",
            "description": "Additional labels for the run.",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "partitionKey": {
            "type": [
              "string",
              "null"
            ],
            "description": "Canonical partition key string (ADR-011). Preferred; cannot be combined with `partitions`.",
            "minLength": 1
          },
          "partitions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PartitionValue"
            },
            "description": "Partition overrides (key=value pairs). Backward-compatible with older clients.\nCannot be combined with `partitionKey`."
          },
          "runKey": {
            "type": "string",
            "description": "Idempotency key to backfill."
          },
          "selection": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Asset selection (asset keys to materialize)."
          }
        }
      },
      "RunKeyBackfillResponse": {
        "type": "object",
        "description": "Response after backfilling a `run_key` reservation.",
        "required": [
          "runKey",
          "runId",
          "requestFingerprint",
          "updated",
          "createdAt"
        ],
        "properties": {
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Reservation creation timestamp."
          },
          "requestFingerprint": {
            "type": "string",
            "description": "Fingerprint stored on the reservation."
          },
          "runId": {
            "type": "string",
            "description": "Run ID associated with the reservation."
          },
          "runKey": {
            "type": "string",
            "description": "Run key that was updated."
          },
          "updated": {
            "type": "boolean",
            "description": "Whether the reservation was updated."
          }
        }
      },
      "RunListItem": {
        "type": "object",
        "description": "Run list item (summary).",
        "required": [
          "runId",
          "state",
          "createdAt",
          "taskCount",
          "tasksSucceeded",
          "tasksFailed"
        ],
        "properties": {
          "completedAt": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "Completion timestamp."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Creation timestamp."
          },
          "parentRunId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Parent run ID (for reruns)."
          },
          "rerunKind": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/RerunKindResponse",
                "description": "Rerun kind (for reruns)."
              }
            ]
          },
          "runId": {
            "type": "string",
            "description": "Run ID."
          },
          "state": {
            "$ref": "#/components/schemas/RunStateResponse",
            "description": "Current state."
          },
          "taskCount": {
            "type": "integer",
            "format": "int32",
            "description": "Total task count.",
            "minimum": 0
          },
          "tasksFailed": {
            "type": "integer",
            "format": "int32",
            "description": "Tasks failed.",
            "minimum": 0
          },
          "tasksSucceeded": {
            "type": "integer",
            "format": "int32",
            "description": "Tasks succeeded.",
            "minimum": 0
          }
        }
      },
      "RunLogsQuery": {
        "type": "object",
        "description": "Query parameters for retrieving logs.",
        "properties": {
          "taskKey": {
            "type": [
              "string",
              "null"
            ],
            "description": "Filter by task key."
          }
        }
      },
      "RunLogsRequest": {
        "type": "object",
        "description": "Request to upload logs for a task run.",
        "required": [
          "taskKey",
          "attempt"
        ],
        "properties": {
          "attempt": {
            "type": "integer",
            "format": "int32",
            "description": "Attempt number (1-indexed).",
            "minimum": 0
          },
          "stderr": {
            "type": "string",
            "description": "Captured stderr."
          },
          "stdout": {
            "type": "string",
            "description": "Captured stdout."
          },
          "taskKey": {
            "type": "string",
            "description": "Task key that produced the logs."
          }
        }
      },
      "RunLogsResponse": {
        "type": "object",
        "description": "Response after uploading logs.",
        "required": [
          "path",
          "sizeBytes"
        ],
        "properties": {
          "path": {
            "type": "string",
            "description": "Stored log path (relative to workspace scope)."
          },
          "sizeBytes": {
            "type": "integer",
            "format": "int64",
            "description": "Size of the stored log payload in bytes.",
            "minimum": 0
          }
        }
      },
      "RunRequestResponse": {
        "type": "object",
        "description": "Run request returned from sensor evaluation.",
        "required": [
          "runKey",
          "requestFingerprint",
          "assetSelection"
        ],
        "properties": {
          "assetSelection": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Assets to materialize."
          },
          "partitionSelection": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            },
            "description": "Optional partition selection."
          },
          "requestFingerprint": {
            "type": "string",
            "description": "Fingerprint of the request payload for conflict detection."
          },
          "runKey": {
            "type": "string",
            "description": "Stable run key for idempotency."
          }
        }
      },
      "RunResponse": {
        "type": "object",
        "description": "Full run details response.",
        "required": [
          "runId",
          "workspaceId",
          "planId",
          "state",
          "createdAt",
          "tasks",
          "taskCounts"
        ],
        "properties": {
          "completedAt": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "Run completion timestamp."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Run creation timestamp."
          },
          "labels": {
            "type": "object",
            "description": "Run labels.",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "parentRunId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Parent run ID (for reruns)."
          },
          "planId": {
            "type": "string",
            "description": "Plan ID."
          },
          "rerunKind": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/RerunKindResponse",
                "description": "Rerun kind (for reruns)."
              }
            ]
          },
          "runId": {
            "type": "string",
            "description": "Run ID."
          },
          "startedAt": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "Run start timestamp (when first task started)."
          },
          "state": {
            "$ref": "#/components/schemas/RunStateResponse",
            "description": "Current state."
          },
          "taskCounts": {
            "$ref": "#/components/schemas/TaskCounts",
            "description": "Task counts by state."
          },
          "tasks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TaskSummary"
            },
            "description": "Task execution summaries."
          },
          "workspaceId": {
            "type": "string",
            "description": "Workspace ID."
          }
        }
      },
      "RunStateResponse": {
        "type": "string",
        "description": "Run state values.",
        "enum": [
          "PENDING",
          "RUNNING",
          "CANCELLING",
          "SUCCEEDED",
          "FAILED",
          "CANCELLED",
          "TIMED_OUT"
        ]
      },
      "ScheduleEntry": {
        "type": "object",
        "description": "Cron schedule entry.",
        "required": [
          "id",
          "cron",
          "assets"
        ],
        "properties": {
          "assets": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Assets to trigger."
          },
          "cron": {
            "type": "string",
            "description": "Cron expression."
          },
          "id": {
            "type": "string",
            "description": "Schedule identifier."
          },
          "timezone": {
            "type": "string",
            "description": "Timezone."
          }
        }
      },
      "ScheduleResponse": {
        "type": "object",
        "description": "Schedule state response.",
        "required": [
          "scheduleId",
          "cronExpression",
          "timezone",
          "catchupWindowMinutes",
          "maxCatchupTicks",
          "assetSelection",
          "enabled",
          "definitionVersion"
        ],
        "properties": {
          "assetSelection": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Asset selection snapshot stored with the definition."
          },
          "catchupWindowMinutes": {
            "type": "integer",
            "format": "int32",
            "description": "Maximum time window for catchup.",
            "minimum": 0
          },
          "cronExpression": {
            "type": "string",
            "description": "Cron expression for the schedule."
          },
          "definitionVersion": {
            "type": "string",
            "description": "Current definition version."
          },
          "enabled": {
            "type": "boolean",
            "description": "Whether the schedule is enabled."
          },
          "lastRunKey": {
            "type": [
              "string",
              "null"
            ],
            "description": "Last run key generated."
          },
          "lastScheduledFor": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "Last `scheduled_for` timestamp that was processed."
          },
          "lastTickId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Last tick ID that was processed."
          },
          "maxCatchupTicks": {
            "type": "integer",
            "format": "int32",
            "description": "Maximum number of ticks to catch up per evaluation.",
            "minimum": 0
          },
          "scheduleId": {
            "type": "string",
            "description": "Schedule identifier."
          },
          "timezone": {
            "type": "string",
            "description": "IANA timezone used for evaluation."
          }
        }
      },
      "ScheduleTickResponse": {
        "type": "object",
        "description": "Schedule tick response.",
        "required": [
          "tickId",
          "scheduleId",
          "scheduledFor",
          "assetSelection",
          "status"
        ],
        "properties": {
          "assetSelection": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Asset selection at tick time."
          },
          "errorMessage": {
            "type": [
              "string",
              "null"
            ],
            "description": "Error message when status is `FAILED`."
          },
          "runId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Run ID if resolved."
          },
          "runKey": {
            "type": [
              "string",
              "null"
            ],
            "description": "Run key if a run was requested."
          },
          "scheduleId": {
            "type": "string",
            "description": "Schedule identifier."
          },
          "scheduledFor": {
            "type": "string",
            "format": "date-time",
            "description": "When this tick was scheduled for."
          },
          "skipReason": {
            "type": [
              "string",
              "null"
            ],
            "description": "Skip reason when status is `SKIPPED`."
          },
          "status": {
            "$ref": "#/components/schemas/TickStatusResponse",
            "description": "Tick status."
          },
          "tickId": {
            "type": "string",
            "description": "Unique tick ID."
          }
        }
      },
      "SchemaResponse": {
        "type": "object",
        "description": "Schema response.",
        "required": [
          "id",
          "catalog",
          "name",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "catalog": {
            "type": "string",
            "description": "Parent catalog name."
          },
          "created_at": {
            "type": "string",
            "description": "Creation timestamp (ISO 8601)."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "id": {
            "type": "string",
            "description": "Schema ID."
          },
          "name": {
            "type": "string",
            "description": "Schema name."
          },
          "updated_at": {
            "type": "string",
            "description": "Last update timestamp (ISO 8601)."
          }
        }
      },
      "SchemaTableResponse": {
        "type": "object",
        "description": "Table response (catalog + schema qualified).",
        "required": [
          "id",
          "catalog",
          "schema",
          "name",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "catalog": {
            "type": "string",
            "description": "Catalog name."
          },
          "created_at": {
            "type": "string",
            "description": "Creation timestamp (ISO 8601)."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "format": {
            "type": [
              "string",
              "null"
            ],
            "description": "Table format."
          },
          "id": {
            "type": "string",
            "description": "Table ID."
          },
          "location": {
            "type": [
              "string",
              "null"
            ],
            "description": "Storage location."
          },
          "name": {
            "type": "string",
            "description": "Table name."
          },
          "schema": {
            "type": "string",
            "description": "Schema name."
          },
          "updated_at": {
            "type": "string",
            "description": "Last update timestamp (ISO 8601)."
          }
        }
      },
      "SensorEvalResponse": {
        "type": "object",
        "description": "Sensor evaluation history response.",
        "required": [
          "evalId",
          "sensorId",
          "evaluatedAt",
          "status",
          "runRequestsCount"
        ],
        "properties": {
          "cursorAfter": {
            "type": [
              "string",
              "null"
            ],
            "description": "Cursor after evaluation."
          },
          "cursorBefore": {
            "type": [
              "string",
              "null"
            ],
            "description": "Cursor before evaluation."
          },
          "evalId": {
            "type": "string",
            "description": "Evaluation identifier."
          },
          "evaluatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Evaluation timestamp."
          },
          "runRequestsCount": {
            "type": "integer",
            "format": "int32",
            "description": "Number of run requests generated.",
            "minimum": 0
          },
          "sensorId": {
            "type": "string",
            "description": "Sensor identifier."
          },
          "status": {
            "$ref": "#/components/schemas/SensorEvalStatusResponse",
            "description": "Evaluation status."
          }
        }
      },
      "SensorEvalStatusResponse": {
        "oneOf": [
          {
            "type": "object",
            "description": "Sensor triggered one or more runs.",
            "required": [
              "status"
            ],
            "properties": {
              "status": {
                "type": "string",
                "enum": [
                  "triggered"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Sensor evaluated but no new data found.",
            "required": [
              "status"
            ],
            "properties": {
              "status": {
                "type": "string",
                "enum": [
                  "no_new_data"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Sensor evaluation failed.",
            "required": [
              "message",
              "status"
            ],
            "properties": {
              "message": {
                "type": "string",
                "description": "Error message describing the failure."
              },
              "status": {
                "type": "string",
                "enum": [
                  "error"
                ]
              }
            }
          },
          {
            "type": "object",
            "description": "Sensor evaluation was skipped due to stale cursor (CAS failed).",
            "required": [
              "status"
            ],
            "properties": {
              "status": {
                "type": "string",
                "enum": [
                  "skipped_stale_cursor"
                ]
              }
            }
          }
        ],
        "description": "Sensor evaluation status (API response)."
      },
      "SensorResponse": {
        "type": "object",
        "description": "Sensor state response.",
        "required": [
          "sensorId",
          "status",
          "stateVersion"
        ],
        "properties": {
          "cursor": {
            "type": [
              "string",
              "null"
            ],
            "description": "Current cursor value (poll sensors)."
          },
          "lastEvaluationAt": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "Last successful evaluation time."
          },
          "sensorId": {
            "type": "string",
            "description": "Sensor identifier."
          },
          "stateVersion": {
            "type": "integer",
            "format": "int32",
            "description": "State version (for CAS).",
            "minimum": 0
          },
          "status": {
            "$ref": "#/components/schemas/SensorStatusResponse",
            "description": "Sensor status."
          }
        }
      },
      "SensorStatusResponse": {
        "type": "string",
        "description": "Sensor status values.",
        "enum": [
          "ACTIVE",
          "PAUSED",
          "ERROR"
        ]
      },
      "SignedUrl": {
        "type": "object",
        "description": "A single signed URL.",
        "required": [
          "path",
          "url"
        ],
        "properties": {
          "path": {
            "type": "string",
            "description": "Original path requested."
          },
          "url": {
            "type": "string",
            "description": "Signed URL (valid for TTL)."
          }
        }
      },
      "StageCommitRequest": {
        "type": "object",
        "required": [
          "payload"
        ],
        "properties": {
          "payload": {
            "type": "string",
            "description": "Delta commit payload to store (JSON lines)."
          }
        }
      },
      "StageCommitResponse": {
        "type": "object",
        "required": [
          "staged_path",
          "staged_version"
        ],
        "properties": {
          "staged_path": {
            "type": "string"
          },
          "staged_version": {
            "type": "string"
          }
        }
      },
      "StoredManifest": {
        "type": "object",
        "description": "Stored manifest metadata (what gets persisted).",
        "required": [
          "manifestId",
          "tenantId",
          "workspaceId",
          "manifestVersion",
          "codeVersionId",
          "fingerprint",
          "git",
          "assets",
          "schedules",
          "deployedAt",
          "deployedBy",
          "metadata"
        ],
        "properties": {
          "assets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AssetEntry"
            },
            "description": "Asset entries."
          },
          "codeVersionId": {
            "type": "string",
            "description": "Code version ID."
          },
          "deployedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Deployment timestamp."
          },
          "deployedBy": {
            "type": "string",
            "description": "Who deployed this."
          },
          "fingerprint": {
            "type": "string",
            "description": "Content fingerprint."
          },
          "git": {
            "$ref": "#/components/schemas/GitContext",
            "description": "Git context."
          },
          "manifestId": {
            "type": "string",
            "description": "Manifest ID."
          },
          "manifestVersion": {
            "type": "string",
            "description": "Manifest version."
          },
          "metadata": {
            "description": "Additional metadata."
          },
          "schedules": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScheduleEntry"
            },
            "description": "Schedules."
          },
          "tenantId": {
            "type": "string",
            "description": "Tenant ID."
          },
          "workspaceId": {
            "type": "string",
            "description": "Workspace ID."
          }
        }
      },
      "TableResponse": {
        "type": "object",
        "description": "Table response.",
        "required": [
          "id",
          "namespace",
          "name",
          "columns",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "columns": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ColumnResponse"
            },
            "description": "Table columns."
          },
          "created_at": {
            "type": "string",
            "description": "Creation timestamp (ISO 8601)."
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description."
          },
          "id": {
            "type": "string",
            "description": "Table ID."
          },
          "name": {
            "type": "string",
            "description": "Table name."
          },
          "namespace": {
            "type": "string",
            "description": "Namespace name."
          },
          "updated_at": {
            "type": "string",
            "description": "Last update timestamp (ISO 8601)."
          }
        }
      },
      "TaskCompletedRequest": {
        "type": "object",
        "description": "Request body for `/v1/tasks/{task_id}/completed`.",
        "required": [
          "attempt",
          "attemptId",
          "workerId",
          "outcome"
        ],
        "properties": {
          "attempt": {
            "type": "integer",
            "format": "int32",
            "description": "Attempt number.",
            "minimum": 0
          },
          "attemptId": {
            "type": "string",
            "description": "Attempt identifier (ULID) - concurrency guard."
          },
          "cancelledDuringPhase": {
            "type": [
              "string",
              "null"
            ],
            "description": "Phase when cancellation occurred (for CANCELLED outcome)."
          },
          "completedAt": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "When execution completed (optional, uses server time if omitted)."
          },
          "error": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TaskError",
                "description": "Error details for failed tasks."
              }
            ]
          },
          "metrics": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TaskMetrics",
                "description": "Execution metrics."
              }
            ]
          },
          "outcome": {
            "$ref": "#/components/schemas/WorkerOutcome",
            "description": "Task outcome."
          },
          "output": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TaskOutput",
                "description": "Output for successful tasks."
              }
            ]
          },
          "partialProgress": {
            "description": "Partial progress at cancellation."
          },
          "traceparent": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional W3C traceparent for distributed tracing."
          },
          "workerId": {
            "type": "string",
            "description": "Worker identifier."
          }
        }
      },
      "TaskCompletedResponse": {
        "type": "object",
        "description": "Response body for successful `/v1/tasks/{task_id}/completed`.",
        "required": [
          "acknowledged",
          "finalState",
          "serverTime"
        ],
        "properties": {
          "acknowledged": {
            "type": "boolean",
            "description": "Whether the completion was acknowledged."
          },
          "finalState": {
            "type": "string",
            "description": "Final task state."
          },
          "serverTime": {
            "type": "string",
            "format": "date-time",
            "description": "Server timestamp."
          }
        }
      },
      "TaskCounts": {
        "type": "object",
        "description": "Task counts by state.",
        "required": [
          "total",
          "pending",
          "queued",
          "running",
          "succeeded",
          "failed",
          "skipped",
          "cancelled"
        ],
        "properties": {
          "cancelled": {
            "type": "integer",
            "format": "int32",
            "description": "Cancelled tasks.",
            "minimum": 0
          },
          "failed": {
            "type": "integer",
            "format": "int32",
            "description": "Failed tasks.",
            "minimum": 0
          },
          "pending": {
            "type": "integer",
            "format": "int32",
            "description": "Pending tasks.",
            "minimum": 0
          },
          "queued": {
            "type": "integer",
            "format": "int32",
            "description": "Queued tasks.",
            "minimum": 0
          },
          "running": {
            "type": "integer",
            "format": "int32",
            "description": "Running tasks.",
            "minimum": 0
          },
          "skipped": {
            "type": "integer",
            "format": "int32",
            "description": "Skipped tasks.",
            "minimum": 0
          },
          "succeeded": {
            "type": "integer",
            "format": "int32",
            "description": "Succeeded tasks.",
            "minimum": 0
          },
          "total": {
            "type": "integer",
            "format": "int32",
            "description": "Total tasks.",
            "minimum": 0
          }
        }
      },
      "TaskError": {
        "type": "object",
        "description": "Error details from a failed task.",
        "required": [
          "category",
          "message"
        ],
        "properties": {
          "category": {
            "$ref": "#/components/schemas/ErrorCategory",
            "description": "Error category per ADR-023."
          },
          "message": {
            "type": "string",
            "description": "Error message."
          },
          "retryable": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "Whether the error is retryable."
          },
          "stackTrace": {
            "type": [
              "string",
              "null"
            ],
            "description": "Stack trace (optional)."
          }
        }
      },
      "TaskMetrics": {
        "type": "object",
        "description": "Execution metrics from the worker.",
        "properties": {
          "cpuTimeMs": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "CPU time in milliseconds.",
            "minimum": 0
          },
          "ioReadBytes": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "I/O read bytes.",
            "minimum": 0
          },
          "ioWriteBytes": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "I/O write bytes.",
            "minimum": 0
          },
          "peakMemoryBytes": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "Peak memory usage in bytes.",
            "minimum": 0
          }
        }
      },
      "TaskOutput": {
        "type": "object",
        "description": "Output from a successful task.",
        "properties": {
          "byteSize": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "Size in bytes.",
            "minimum": 0
          },
          "materializationId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Materialization identifier."
          },
          "outputPath": {
            "type": [
              "string",
              "null"
            ],
            "description": "Output path."
          },
          "rowCount": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "Number of rows produced.",
            "minimum": 0
          }
        }
      },
      "TaskStartedRequest": {
        "type": "object",
        "description": "Request body for `/v1/tasks/{task_id}/started`.",
        "required": [
          "attempt",
          "attemptId",
          "workerId"
        ],
        "properties": {
          "attempt": {
            "type": "integer",
            "format": "int32",
            "description": "Attempt number (1-indexed).",
            "minimum": 0
          },
          "attemptId": {
            "type": "string",
            "description": "Attempt identifier (ULID) - concurrency guard."
          },
          "startedAt": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "When execution started (optional, uses server time if omitted)."
          },
          "traceparent": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional W3C traceparent for distributed tracing."
          },
          "workerId": {
            "type": "string",
            "description": "Worker identifier."
          }
        }
      },
      "TaskStartedResponse": {
        "type": "object",
        "description": "Response body for successful `/v1/tasks/{task_id}/started`.",
        "required": [
          "acknowledged",
          "serverTime"
        ],
        "properties": {
          "acknowledged": {
            "type": "boolean",
            "description": "Whether the callback was acknowledged."
          },
          "serverTime": {
            "type": "string",
            "format": "date-time",
            "description": "Server timestamp."
          }
        }
      },
      "TaskStateResponse": {
        "type": "string",
        "description": "Task state values.",
        "enum": [
          "PENDING",
          "QUEUED",
          "RUNNING",
          "SUCCEEDED",
          "FAILED",
          "SKIPPED",
          "CANCELLED"
        ]
      },
      "TaskSummary": {
        "type": "object",
        "description": "Task execution summary.",
        "required": [
          "taskKey",
          "state",
          "attempt"
        ],
        "properties": {
          "assetKey": {
            "type": [
              "string",
              "null"
            ],
            "description": "Asset key (if asset task)."
          },
          "attempt": {
            "type": "integer",
            "format": "int32",
            "description": "Current attempt number.",
            "minimum": 0
          },
          "completedAt": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "Task completion time."
          },
          "errorMessage": {
            "type": [
              "string",
              "null"
            ],
            "description": "Error message (if failed)."
          },
          "startedAt": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "description": "Task start time."
          },
          "state": {
            "$ref": "#/components/schemas/TaskStateResponse",
            "description": "Task state."
          },
          "taskKey": {
            "type": "string",
            "description": "Task key."
          }
        }
      },
      "TickStatusResponse": {
        "type": "string",
        "description": "Tick status values.",
        "enum": [
          "TRIGGERED",
          "SKIPPED",
          "FAILED"
        ]
      },
      "TriggerRunRequestOpenApi": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/TriggerRunRequestWithPartitionKey"
          },
          {
            "$ref": "#/components/schemas/TriggerRunRequestWithPartitions"
          },
          {
            "$ref": "#/components/schemas/TriggerRunRequestUnpartitioned"
          }
        ]
      },
      "TriggerRunRequestUnpartitioned": {
        "type": "object",
        "properties": {
          "includeDownstream": {
            "type": "boolean",
            "description": "Include downstream dependents of the selection."
          },
          "includeUpstream": {
            "type": "boolean",
            "description": "Include upstream dependencies of the selection."
          },
          "labels": {
            "type": "object",
            "description": "Additional labels for the run.",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "runKey": {
            "type": [
              "string",
              "null"
            ],
            "description": "Idempotency key for deduplication (409 if reused with different payload).\nReservations created before the fingerprint cutoff remain lenient."
          },
          "selection": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Asset selection (asset keys to materialize)."
          }
        },
        "additionalProperties": false
      },
      "TriggerRunRequestWithPartitionKey": {
        "type": "object",
        "required": [
          "partitionKey"
        ],
        "properties": {
          "includeDownstream": {
            "type": "boolean",
            "description": "Include downstream dependents of the selection."
          },
          "includeUpstream": {
            "type": "boolean",
            "description": "Include upstream dependencies of the selection."
          },
          "labels": {
            "type": "object",
            "description": "Additional labels for the run.",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "partitionKey": {
            "type": "string",
            "description": "Canonical partition key string (ADR-011).",
            "minLength": 1
          },
          "runKey": {
            "type": [
              "string",
              "null"
            ],
            "description": "Idempotency key for deduplication (409 if reused with different payload).\nReservations created before the fingerprint cutoff remain lenient."
          },
          "selection": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Asset selection (asset keys to materialize)."
          }
        },
        "additionalProperties": false
      },
      "TriggerRunRequestWithPartitions": {
        "type": "object",
        "required": [
          "partitions"
        ],
        "properties": {
          "includeDownstream": {
            "type": "boolean",
            "description": "Include downstream dependents of the selection."
          },
          "includeUpstream": {
            "type": "boolean",
            "description": "Include upstream dependencies of the selection."
          },
          "labels": {
            "type": "object",
            "description": "Additional labels for the run.",
            "additionalProperties": {
              "type": "string"
            },
            "propertyNames": {
              "type": "string"
            }
          },
          "partitions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PartitionValue"
            },
            "description": "Partition overrides (key=value strings). Backward-compatible with older clients."
          },
          "runKey": {
            "type": [
              "string",
              "null"
            ],
            "description": "Idempotency key for deduplication (409 if reused with different payload).\nReservations created before the fingerprint cutoff remain lenient."
          },
          "selection": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Asset selection (asset keys to materialize)."
          }
        },
        "additionalProperties": false
      },
      "TriggerRunResponse": {
        "type": "object",
        "description": "Response after triggering a run.",
        "required": [
          "runId",
          "planId",
          "state",
          "created",
          "createdAt"
        ],
        "properties": {
          "created": {
            "type": "boolean",
            "description": "Whether this is a new run or an existing one (`run_key` deduplication)."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Run creation timestamp."
          },
          "planId": {
            "type": "string",
            "description": "Plan ID for this run."
          },
          "runId": {
            "type": "string",
            "description": "Run ID (ULID)."
          },
          "state": {
            "$ref": "#/components/schemas/RunStateResponse",
            "description": "Current run state."
          }
        }
      },
      "UnprocessableEntityResponse": {
        "type": "object",
        "description": "Error response for unsupported partition selectors.",
        "required": [
          "error",
          "message",
          "code"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "Stable error code."
          },
          "error": {
            "type": "string",
            "description": "Error category."
          },
          "message": {
            "type": "string",
            "description": "Human-readable error message."
          }
        }
      },
      "UpdateTableRequest": {
        "type": "object",
        "description": "Request to update a table.",
        "properties": {
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional new description."
          }
        }
      },
      "WorkerOutcome": {
        "type": "string",
        "description": "Worker-reported task outcome.",
        "enum": [
          "SUCCEEDED",
          "FAILED",
          "CANCELLED"
        ]
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      },
      "taskAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "tags": [
    {
      "name": "catalogs",
      "description": "Catalog operations"
    },
    {
      "name": "schemas",
      "description": "Schema operations"
    },
    {
      "name": "namespaces",
      "description": "Namespace operations"
    },
    {
      "name": "tables",
      "description": "Table operations"
    },
    {
      "name": "lineage",
      "description": "Lineage operations"
    },
    {
      "name": "browser",
      "description": "Browser signed URL minting"
    },
    {
      "name": "query",
      "description": "SQL query execution"
    },
    {
      "name": "delta",
      "description": "Delta commit coordination (Mode B)"
    },
    {
      "name": "Orchestration",
      "description": "Run orchestration operations"
    },
    {
      "name": "Manifests",
      "description": "Manifest deployment operations"
    },
    {
      "name": "Worker Callbacks",
      "description": "Worker task lifecycle callbacks"
    }
  ]
}