Command: cargo test --manifest-path /Users/ethanurbanski/arco/Cargo.toml -p arco-api --test api_integration --all-features

   Compiling num-integer v0.1.46
   Compiling serde v1.0.228
   Compiling indexmap v2.12.1
   Compiling serde_core v1.0.228
   Compiling itertools v0.14.0
   Compiling tokio v1.48.0
   Compiling regex-automata v0.4.13
   Compiling md-5 v0.10.6
   Compiling uuid v1.19.0
   Compiling webpki-roots v1.0.4
   Compiling metrics-util v0.19.1
   Compiling flate2 v1.1.5
   Compiling hashbrown v0.14.5
   Compiling num-bigint v0.4.6
   Compiling num-iter v0.1.45
   Compiling dashmap v5.5.3
   Compiling chrono v0.4.42
   Compiling serde_urlencoded v0.7.1
   Compiling url v2.5.7
   Compiling tracing-serde v0.2.0
   Compiling h2 v0.4.12
   Compiling tower v0.5.2
   Compiling quick-xml v0.37.5
   Compiling ulid v1.2.1
   Compiling petgraph v0.7.1
   Compiling prost-derive v0.13.5
   Compiling num-rational v0.4.2
   Compiling regex v1.12.2
   Compiling tracing-subscriber v0.3.22
   Compiling humantime-serde v1.1.1
   Compiling simple_asn1 v0.6.3
   Compiling num v0.4.3
   Compiling chrono-tz v0.10.4
   Compiling tower-http v0.6.8
   Compiling hyper v1.8.1
   Compiling tokio-rustls v0.26.4
   Compiling cron v0.15.0
   Compiling axum v0.8.8
   Compiling zip v6.0.0
   Compiling prost v0.13.5
   Compiling serde_jcs v0.1.0
   Compiling arrow-buffer v54.3.1
   Compiling arrow-buffer v56.2.0
   Compiling hyper-util v0.1.19
   Compiling serde_json v1.0.146
   Compiling jsonwebtoken v9.3.1
   Compiling governor v0.6.3
   Compiling arrow-data v54.3.1
   Compiling arrow-data v56.2.0
   Compiling utoipa-gen v5.4.0
   Compiling rust_decimal v1.39.0
   Compiling hyper-rustls v0.27.7
   Compiling arrow-array v56.2.0
   Compiling reqwest v0.12.28
   Compiling arrow-array v54.3.1
   Compiling prost-types v0.13.5
   Compiling axum v0.7.9
   Compiling hyper-timeout v0.5.2
   Compiling prost-build v0.13.5
   Compiling tonic v0.14.2
   Compiling gcp_auth v0.12.5
   Compiling metrics-exporter-prometheus v0.16.2
   Compiling arrow-select v56.2.0
   Compiling arrow-arith v56.2.0
   Compiling arrow-row v56.2.0
   Compiling utoipa v5.4.0
   Compiling libduckdb-sys v1.4.3
   Compiling arrow-select v54.3.1
   Compiling arrow-ipc v54.3.1
   Compiling arrow-row v54.3.1
   Compiling arrow-arith v54.3.1
   Compiling arco-proto v0.1.0 (/Users/ethanurbanski/arco/crates/arco-proto)
   Compiling arrow-cast v54.3.1
   Compiling arrow-string v54.3.1
   Compiling arrow-ord v54.3.1
   Compiling object_store v0.11.2
   Compiling arrow-string v56.2.0
   Compiling arrow-json v54.3.1
   Compiling arrow-csv v54.3.1
   Compiling parquet v54.3.1
   Compiling arrow-cast v56.2.0
   Compiling arrow-ord v56.2.0
   Compiling arrow v54.3.1
   Compiling arrow v56.2.0
   Compiling arco-core v0.1.0 (/Users/ethanurbanski/arco/crates/arco-core)
   Compiling arco-catalog v0.1.0 (/Users/ethanurbanski/arco/crates/arco-catalog)
   Compiling arco-flow v0.1.0 (/Users/ethanurbanski/arco/crates/arco-flow)
   Compiling arco-iceberg v0.1.0 (/Users/ethanurbanski/arco/crates/arco-iceberg)
   Compiling arco-api v0.1.0 (/Users/ethanurbanski/arco/crates/arco-api)
   Compiling arco-test-utils v0.1.0 (/Users/ethanurbanski/arco/crates/arco-test-utils)
   Compiling duckdb v1.4.3
    Finished `test` profile [unoptimized + debuginfo] target(s) in 1m 10s
     Running tests/api_integration.rs (arco/target/debug/deps/api_integration-6bbc1192b68531aa)

running 25 tests
test cross_cutting::test_cors_specific_origin_allows_matching_origin ... ok
test cross_cutting::test_cors_headers_on_response ... ok
test cross_cutting::test_cors_preflight_request ... ok
test cross_cutting::test_missing_tenant_header_returns_401 ... ok
test cross_cutting::test_cors_disabled_by_default ... ok
test cross_cutting::test_missing_workspace_header_returns_401 ... ok
test cross_cutting::test_cors_specific_origin_rejects_non_matching_origin ... ok
test cross_cutting::test_production_mode_requires_authorization_header ... ok
test cross_cutting::test_production_mode_rejects_missing_user_claim ... ok
test browser::test_mint_urls_rejects_path_traversal ... ok
test browser::test_mint_urls_rejects_unknown_domain ... ok
test namespaces::test_get_nonexistent_namespace_returns_404 ... ok
test tables::test_register_table_in_nonexistent_namespace_returns_error ... ok
test manifests::test_manifest_deploy_get_list_idempotent ... ok
test cross_cutting::test_production_mode_accepts_rs256_jwt ... ok
test cross_cutting::test_idempotency_key_accepted ... ok
test cross_cutting::test_production_mode_accepts_bearer_jwt ... ok
test lineage::test_lineage_edge_with_default_type ... ok
test orchestration::test_manual_sensor_evaluate_endpoint ... ok
test test_server_uses_provided_storage_backend ... ok
test lineage::test_lineage_edge_lifecycle ... ok
test browser::test_mint_urls_ttl_bounded ... ok
test namespaces::test_namespace_crud_lifecycle ... ok
test tables::test_table_crud_lifecycle ... ok
test orchestration::test_servo_deploy_run_callbacks_and_logs ... ok

test result: ok. 25 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.24s
