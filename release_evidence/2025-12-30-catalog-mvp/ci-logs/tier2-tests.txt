Command: cargo test --manifest-path /Users/ethanurbanski/arco/Cargo.toml -p arco-test-utils --test tier2 --all-features

   Compiling num-traits v0.2.19
   Compiling serde v1.0.228
   Compiling h2 v0.4.12
   Compiling serde_json v1.0.146
   Compiling digest v0.10.7
   Compiling tower v0.5.2
   Compiling flate2 v1.1.5
   Compiling once_cell v1.21.3
   Compiling regex-syntax v0.8.8
   Compiling petgraph v0.7.1
   Compiling tokio v1.48.0
   Compiling bigdecimal v0.4.9
   Compiling uuid v1.19.0
   Compiling arrayvec v0.7.6
   Compiling axum-core v0.4.5
   Compiling md-5 v0.10.6
   Compiling ahash v0.8.12
   Compiling sha2 v0.10.9
   Compiling num-integer v0.1.46
   Compiling num-complex v0.4.6
   Compiling half v2.7.1
   Compiling chrono v0.4.42
   Compiling atoi v2.0.0
   Compiling serde_urlencoded v0.7.1
   Compiling url v2.5.7
   Compiling tower-http v0.6.8
   Compiling quick-xml v0.37.5
   Compiling ordered-float v2.10.1
   Compiling regex-automata v0.4.13
   Compiling num-bigint v0.4.6
   Compiling num-iter v0.1.45
   Compiling hashbrown v0.14.5
   Compiling tracing-serde v0.2.0
   Compiling ulid v1.2.1
   Compiling chrono-tz v0.10.4
   Compiling hyper v1.8.1
   Compiling thrift v0.17.0
   Compiling async-compression v0.4.19
   Compiling blake3 v1.8.2
   Compiling tracing-subscriber v0.3.22
   Compiling blake2 v0.10.6
   Compiling serde_path_to_error v0.1.20
   Compiling cron v0.15.0
   Compiling humantime-serde v1.1.1
   Compiling num-rational v0.4.2
   Compiling hmac v0.12.1
   Compiling proptest v1.9.0
   Compiling regex v1.12.2
   Compiling hyper-util v0.1.19
   Compiling num v0.4.3
   Compiling arrow-buffer v54.3.1
   Compiling arrow-data v54.3.1
   Compiling hyper-rustls v0.27.7
   Compiling axum v0.7.9
   Compiling reqwest v0.12.28
   Compiling arrow-array v54.3.1
   Compiling object_store v0.11.2
   Compiling arrow-select v54.3.1
   Compiling arrow-ipc v54.3.1
   Compiling arrow-arith v54.3.1
   Compiling arrow-row v54.3.1
   Compiling arrow-cast v54.3.1
   Compiling arrow-string v54.3.1
   Compiling arrow-ord v54.3.1
   Compiling arrow-csv v54.3.1
   Compiling arrow-json v54.3.1
   Compiling arrow v54.3.1
   Compiling datafusion-common v46.0.1
   Compiling datafusion-expr-common v46.0.1
   Compiling parquet v54.3.1
   Compiling arco-core v0.1.0 (/Users/ethanurbanski/arco/crates/arco-core)
   Compiling datafusion-physical-expr-common v46.0.1
   Compiling datafusion-functions-aggregate-common v46.0.1
   Compiling datafusion-functions-window-common v46.0.1
   Compiling datafusion-expr v46.0.1
   Compiling arco-flow v0.1.0 (/Users/ethanurbanski/arco/crates/arco-flow)
   Compiling arco-catalog v0.1.0 (/Users/ethanurbanski/arco/crates/arco-catalog)
   Compiling datafusion-macros v46.0.1
   Compiling arco-test-utils v0.1.0 (/Users/ethanurbanski/arco/crates/arco-test-utils)
   Compiling datafusion-physical-expr v46.0.1
   Compiling datafusion-execution v46.0.1
   Compiling datafusion-sql v46.0.1
   Compiling datafusion-functions v46.0.1
   Compiling datafusion-physical-plan v46.0.1
   Compiling datafusion-functions-aggregate v46.0.1
   Compiling datafusion-functions-window v46.0.1
   Compiling datafusion-optimizer v46.0.1
   Compiling datafusion-functions-nested v46.0.1
   Compiling datafusion-catalog v46.0.1
   Compiling datafusion-physical-optimizer v46.0.1
   Compiling datafusion-datasource v46.0.1
   Compiling datafusion-functions-table v46.0.1
   Compiling datafusion-catalog-listing v46.0.1
   Compiling datafusion v46.0.1
    Finished `test` profile [unoptimized + debuginfo] target(s) in 51.40s
     Running tests/tier2.rs (arco/target/debug/deps/tier2-8bbbb2ec62cde864)

running 17 tests
test invariant1_append_only_ingest ... ok
test invariant6_listing_dependency_documented ... ok
test invariant4_atomic_publish ... ok
test tier2_workspace_isolation ... ok
test invariant2_compactor_sole_parquet_writer ... ok
test tier2_compactor_sole_parquet_writer ... ok
test invariant5_readers_never_need_ledger ... ok
test tier2_idempotent_events ... ok
test invariant3_idempotent_compaction ... ok
test tier2_crash_recovery ... ok
test tier2_out_of_order_processing ... ok
test tier2_append_compact_read_loop ... ok
test tier2_derived_current_pointers ... ok
test tier2_snapshot_does_not_shrink_across_compactions ... ok
test tier2_incremental_compaction ... ok
test datafusion_reads_parquet_bytes ... ok
test tier2_concurrent_compactor_race ... ok

test result: ok. 17 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.07s
