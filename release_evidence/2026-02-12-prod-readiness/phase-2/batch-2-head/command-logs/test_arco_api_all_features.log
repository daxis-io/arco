   Compiling serde v1.0.228
   Compiling indexmap v2.12.1
   Compiling chrono v0.4.43
   Compiling serde_urlencoded v0.7.1
   Compiling url v2.5.7
   Compiling quick-xml v0.37.5
   Compiling arrow-json v54.3.1
   Compiling tracing-serde v0.2.0
   Compiling ulid v1.2.1
   Compiling serde_jcs v0.1.0
   Compiling humantime-serde v1.1.1
   Compiling arco-proto v0.1.0 (/Users/ethanurbanski/arco/.worktrees/codex-prod-go-closure-batch2/crates/arco-proto)
   Compiling jsonwebtoken v10.3.0
   Compiling rust_decimal v1.39.0
   Compiling h2 v0.4.12
   Compiling tower v0.5.3
   Compiling petgraph v0.7.1
   Compiling tracing-subscriber v0.3.22
   Compiling utoipa v5.4.0
   Compiling chrono-tz v0.10.4
   Compiling arrow-array v56.2.0
   Compiling cron v0.15.0
   Compiling reqwest v0.12.28
   Compiling arrow v54.3.1
   Compiling tower-http v0.6.8
   Compiling datafusion-common v46.0.1
   Compiling axum v0.8.8
   Compiling arrow-select v56.2.0
   Compiling arrow-arith v56.2.0
   Compiling arrow-row v56.2.0
   Compiling libduckdb-sys v1.4.4
   Compiling hyper v1.8.1
   Compiling arrow-cast v56.2.0
   Compiling arrow-string v56.2.0
   Compiling arrow-ord v56.2.0
   Compiling hyper-util v0.1.19
   Compiling datafusion-expr-common v46.0.1
   Compiling arrow-array v54.3.1
   Compiling datafusion-physical-expr-common v46.0.1
   Compiling arrow v56.2.0
   Compiling hyper-rustls v0.27.7
   Compiling axum v0.7.9
   Compiling hyper-timeout v0.5.2
   Compiling datafusion-functions-aggregate-common v46.0.1
   Compiling datafusion-functions-window-common v46.0.1
   Compiling tonic v0.14.3
   Compiling gcp_auth v0.12.6
   Compiling metrics-exporter-prometheus v0.16.2
   Compiling datafusion-expr v46.0.1
   Compiling arrow-select v54.3.1
   Compiling arrow-ipc v54.3.1
   Compiling arrow-row v54.3.1
   Compiling object_store v0.11.2
   Compiling arrow-arith v54.3.1
   Compiling arrow-cast v54.3.1
   Compiling arrow-ord v54.3.1
   Compiling arrow-string v54.3.1
   Compiling arrow-csv v54.3.1
   Compiling datafusion-macros v46.0.1
   Compiling parquet v54.3.1
   Compiling arco-core v0.1.0 (/Users/ethanurbanski/arco/.worktrees/codex-prod-go-closure-batch2/crates/arco-core)
   Compiling arco-delta v0.1.0 (/Users/ethanurbanski/arco/.worktrees/codex-prod-go-closure-batch2/crates/arco-delta)
   Compiling arco-uc v0.1.0 (/Users/ethanurbanski/arco/.worktrees/codex-prod-go-closure-batch2/crates/arco-uc)
   Compiling arco-catalog v0.1.0 (/Users/ethanurbanski/arco/.worktrees/codex-prod-go-closure-batch2/crates/arco-catalog)
   Compiling arco-flow v0.1.0 (/Users/ethanurbanski/arco/.worktrees/codex-prod-go-closure-batch2/crates/arco-flow)
   Compiling arco-iceberg v0.1.0 (/Users/ethanurbanski/arco/.worktrees/codex-prod-go-closure-batch2/crates/arco-iceberg)
   Compiling datafusion-physical-expr v46.0.1
   Compiling datafusion-execution v46.0.1
   Compiling datafusion-physical-plan v46.0.1
   Compiling datafusion-sql v46.0.1
   Compiling datafusion-functions-aggregate v46.0.1
   Compiling datafusion-catalog v46.0.1
   Compiling datafusion-datasource v46.0.1
   Compiling datafusion-functions v46.0.1
   Compiling datafusion-catalog-listing v46.0.1
   Compiling datafusion-functions-table v46.0.1
   Compiling datafusion-physical-optimizer v46.0.1
   Compiling datafusion-optimizer v46.0.1
   Compiling datafusion-functions-nested v46.0.1
   Compiling datafusion-functions-window v46.0.1
   Compiling datafusion v46.0.1
   Compiling arco-test-utils v0.1.0 (/Users/ethanurbanski/arco/.worktrees/codex-prod-go-closure-batch2/crates/arco-test-utils)
   Compiling duckdb v1.4.4
   Compiling arco-api v0.1.0 (/Users/ethanurbanski/arco/.worktrees/codex-prod-go-closure-batch2/crates/arco-api)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 1m 42s
     Running unittests src/lib.rs (target/debug/deps/arco_api-6c966983ebf76b05)

running 113 tests
test audit::tests::test_anonymous_actor ... ok
test config::tests::iceberg_credential_vending_default_is_false ... ok
test config::tests::iceberg_multi_table_transactions_default_is_false ... ok
test config::tests::compactor_auth_debug_redacts_static_token ... ok
test audit::tests::test_hash_actor_is_stable ... ok
test config::tests::parse_bool_accepts_true_values ... ok
test audit::tests::test_hash_actor_different_inputs ... ok
test config::tests::parse_bool_accepts_false_values ... ok
test audit::tests::test_hash_actor_with_hmac_key ... ok
test audit::tests::test_hash_actor_hmac_differs_from_plain ... ok
test config::tests::parse_bool_rejects_invalid_values ... ok
test config::tests::parse_compactor_auth_mode_accepts_all_modes ... ok
test config::tests::parse_compactor_auth_mode_rejects_invalid_value ... ok
test config::tests::posture_env_values_require_api_public ... ok
test config::tests::posture_env_values_reject_invalid_api_public ... ok
test config::tests::posture_env_values_require_environment ... ok
test audit::tests::test_emit_url_mint_deny ... ok
test audit::tests::test_emit_url_mint_allow ... ok
test config::tests::posture_maps_environment_and_public_flag ... ok
test config::tests::posture_rejects_invalid_environment ... ok
test metrics::tests::test_status_class ... ok
test metrics::tests::test_endpoint_label_unmatched ... ok
test error::tests::test_regular_conflict_has_no_retry_after ... ok
test error::tests::test_conflict_in_progress_has_retry_after ... ok
test error::tests::test_with_retry_after_sets_header ... ok
test rate_limit::tests::test_rate_limit_disabled ... ok
test redaction::tests::redact_url_no_query_is_unchanged ... ok
test context::tests::test_request_context_requires_jwt_outside_dev ... ok
test redaction::tests::redacted_url_display_is_redacted ... ok
test redaction::tests::redact_url_redacts_sig_token_signature ... ok
test context::tests::test_request_context_accepts_debug_headers_in_dev ... ok
test routes::manifests::tests::test_deploy_request_deserialization ... ok
test routes::manifests::tests::test_stored_manifest_serialization ... ok
test routes::orchestration::tests::test_build_chunk_counts_index_groups_by_backfill ... ok
test routes::orchestration::tests::test_build_partition_key_rejects_canonical_string_too_long ... ok
test routes::orchestration::tests::test_build_partition_key_canonical_string ... ok
test routes::orchestration::tests::test_build_partition_key_rejects_invalid_partition_key ... ok
test routes::orchestration::tests::test_backfill_run_key_conflicts_on_mismatch ... ok
test routes::orchestration::tests::test_create_backfill_accepts_legacy_explicit_idempotency_fingerprint ... ok
test routes::orchestration::tests::test_backfill_run_key_updates_missing_fingerprint ... ok
test routes::orchestration::tests::test_compute_backfill_fingerprint_is_deterministic_for_filter_selector ... ok
test routes::orchestration::tests::test_filter_ticks_by_status ... ok
test routes::orchestration::tests::test_parse_pagination_parses_cursor ... ok
test routes::orchestration::tests::test_parse_pagination_rejects_invalid_cursor ... ok
test routes::orchestration::tests::test_derive_run_partitioning_spec_rejects_mismatched_root_partitioning ... ok
test routes::orchestration::tests::test_parse_pagination_rejects_zero_limit ... ok
test routes::orchestration::tests::test_parse_partition_selector_rejects_filter_without_bounds ... ok
test routes::orchestration::tests::test_partition_selector_filter_maps_to_response ... ok
test routes::orchestration::tests::test_request_fingerprint_equivalent_for_partition_key_and_partitions ... ok
test routes::orchestration::tests::test_request_fingerprint_is_order_independent ... ok
test routes::orchestration::tests::test_request_fingerprint_variants_include_legacy_time_string_partition_key ... ok
test routes::orchestration::tests::test_request_fingerprint_variants_include_legacy_hour_time_string_partition_key ... ok
test routes::orchestration::tests::test_resolve_partition_key_accepts_canonical_partition_key ... ok
test routes::orchestration::tests::test_resolve_partition_key_normalizes_day_time_string ... ok
test routes::orchestration::tests::test_resolve_partition_key_rejects_both_partition_key_and_partitions ... ok
test routes::orchestration::tests::test_resolve_partition_key_normalizes_hour_time_string ... ok
test routes::orchestration::tests::test_resolve_partition_key_rejects_disallowed_static_value ... ok
test routes::orchestration::tests::test_resolve_partition_key_rejects_empty_partition_key ... ok
test routes::orchestration::tests::test_resolve_partition_key_rejects_extra_dimension ... ok
test routes::orchestration::tests::test_resolve_partition_key_rejects_missing_dimension ... ok
test routes::orchestration::tests::test_resolve_partition_key_rejects_noncanonical_partition_key ... ok
test routes::orchestration::tests::test_resolve_partition_key_rejects_partitions_time_string_after_cutoff ... ok
test routes::orchestration::tests::test_resolve_partition_key_rejects_time_string_after_cutoff ... ok
test routes::orchestration::tests::test_run_response_serialization ... ok
test routes::orchestration::tests::test_trigger_request_deserialization_partition_key ... ok
test routes::orchestration::tests::test_trigger_request_deserialization ... ok
test routes::orchestration::tests::test_trigger_request_limits_rejects_too_long_partition_key ... ok
test routes::orchestration::tests::test_trigger_request_limits_rejects_too_many_selection_items ... ok
test routes::orchestration::tests::test_trigger_run_conflicts_on_fingerprint_mismatch ... ok
test routes::orchestration::tests::test_trigger_run_normalizes_reserve_run_key_fingerprint_mismatch_for_equivalent_variants ... ok
test routes::orchestration::tests::test_create_backfill_accepts_filter_selector ... ok
test routes::orchestration::tests::test_create_backfill_accepts_range_selector ... ok
test routes::tasks::tests::test_completed_request_success ... ok
test routes::tasks::tests::test_completed_request_failure ... ok
test routes::tasks::tests::test_extract_bearer_token ... ok
test routes::tasks::tests::test_extract_bearer_token_missing ... ok
test routes::tasks::tests::test_extract_bearer_token_wrong_scheme ... ok
test routes::tasks::tests::test_heartbeat_request_deserialization ... ok
test routes::orchestration::tests::test_trigger_run_falls_back_to_scan_when_index_points_to_missing_manifest ... ok
test routes::tasks::tests::test_started_request_deserialization ... ok
test routes::orchestration::tests::test_trigger_run_reemits_when_reservation_exists ... ok
test routes::tasks::tests::test_jwt_task_token_validator_rejects_task_id_mismatch ... ok
test routes::tasks::tests::test_jwt_task_token_validator_accepts_valid_token ... ok
test routes::tasks::tests::test_task_auth_middleware_rejects_debug_headers_outside_dev ... ok
test routes::tasks::tests::test_task_auth_middleware_rejects_missing_token ... ok
test routes::tasks::tests::test_task_auth_middleware_accepts_debug_headers_in_dev ... ok
test routes::tasks::tests::test_task_auth_middleware_accepts_valid_token ... ok
test server::tests::test_compactor_url_required_when_debug_false ... ok
test server::tests::test_iceberg_disabled_by_default ... ok
test server::tests::test_health_endpoint ... ok
test server::tests::test_posture_accepts_jwt_claims_outside_dev ... ok
test server::tests::test_posture_allows_debug_in_dev ... ok
test server::tests::test_posture_blocks_debug_outside_dev ... ok
test server::tests::test_posture_rejects_empty_jwt_claims_outside_dev ... ok
test server::tests::test_posture_requires_jwt_audience_outside_dev ... ok
test server::tests::test_posture_requires_jwt_issuer_outside_dev ... ok
test server::tests::test_iceberg_auth_uses_iceberg_error_schema ... ok
test server::tests::test_static_bearer_mode_requires_token ... ok
test server::tests::test_iceberg_config_endpoint ... ok
test server::tests::test_ready_endpoint ... ok
test server::tests::test_iceberg_openapi_endpoint ... ok
test rate_limit::tests::test_url_minting_lower_limit ... ok
test rate_limit::tests::test_rate_limit_different_tenants ... ok
test rate_limit::tests::test_rate_limit_allows_within_quota ... ok
test metrics::tests::test_counters_without_tenant_labels ... ok
test metrics::tests::test_request_metrics_labels ... ok
test compactor_client::tests::retries_once_on_503_and_succeeds ... ok
test compactor_client::tests::none_mode_sends_no_authorization_header ... ok
test compactor_client::tests::static_bearer_mode_missing_token_fails ... ok
test compactor_client::tests::static_bearer_mode_sets_authorization_header ... ok
test compactor_client::tests::timeout_is_respected_with_custom_client ... ok
test compactor_client::tests::legacy_url_userinfo_maps_to_static_bearer_for_deprecation_cycle ... ok
test compactor_client::tests::gcp_mode_fetches_id_token_and_sets_authorization_header ... ok

test result: ok. 113 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.47s

     Running unittests src/main.rs (target/debug/deps/arco_api-0f0214d7e9fe2266)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/bin/gen_openapi.rs (target/debug/deps/gen_openapi-77ff4041f1e0be84)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/api_integration.rs (target/debug/deps/api_integration-5b4ff422fa2ed1a7)

running 38 tests
test cross_cutting::test_cors_disabled_by_default ... ok
test cross_cutting::test_cors_headers_on_response ... ok
test cross_cutting::test_cors_specific_origin_allows_matching_origin ... ok
test cross_cutting::test_cors_specific_origin_rejects_non_matching_origin ... ok
test cross_cutting::test_cors_preflight_request ... ok
test cross_cutting::test_missing_tenant_header_returns_401 ... ok
test cross_cutting::test_missing_workspace_header_returns_401 ... ok
test cross_cutting::test_production_mode_rejects_missing_audience_claim ... ok
test cross_cutting::test_production_mode_rejects_missing_issuer_claim ... ok
test cross_cutting::test_production_mode_rejects_missing_user_claim ... ok
test cross_cutting::test_production_mode_requires_authorization_header ... ok
test browser::test_mint_urls_rejects_unknown_domain ... ok
test namespaces::test_get_nonexistent_namespace_returns_404 ... ok
test browser::test_mint_urls_rejects_path_traversal ... ok
test idempotency::test_invalid_idempotency_key_rejected ... ok
test idempotency::test_uuidv4_idempotency_key_rejected ... ok
test query::test_audit_emits_auth_deny_on_missing_auth ... ok
test query::test_query_rejects_non_select ... ok
test lineage::test_lineage_edge_with_default_type ... ok
test orchestration::test_manual_sensor_evaluate_endpoint ... ok
test lineage::test_lineage_edge_lifecycle ... ok
test manifests::test_manifest_deploy_get_list_idempotent ... ok
test cross_cutting::test_production_mode_accepts_rs256_jwt ... ok
test cross_cutting::test_production_mode_accepts_bearer_jwt ... ok
test idempotency::test_create_namespace_conflict_on_different_payload ... ok
test idempotency::test_create_namespace_idempotent_replay ... ok
test browser::test_mint_urls_ttl_bounded ... ok
test query::test_audit_emits_auth_allow_on_success ... ok
test cross_cutting::test_idempotency_key_accepted ... ok
test test_public_posture_blocks_metrics ... ok
test tables::test_register_table_in_nonexistent_namespace_returns_error ... ok
test namespaces::test_namespace_crud_lifecycle ... ok
test idempotency::test_register_table_idempotent_replay ... ok
test test_server_uses_provided_storage_backend ... ok
test tables::test_table_crud_lifecycle ... ok
test query::test_query_returns_arrow_stream ... ok
test query::test_query_returns_json_format ... ok
test orchestration::test_arco_flow_deploy_run_callbacks_and_logs ... ok

test result: ok. 38 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.25s

     Running tests/browser_e2e.rs (target/debug/deps/browser_e2e-aec6c968538493ca)

running 15 tests
test cors::test_cors_preflight ... ok
test signed_url_security::test_missing_workspace_header_rejected ... ok
test signed_url_security::test_missing_tenant_header_rejected ... ok
test signed_url_security::test_path_traversal_rejected ... ok
test e2e_browser_read::test_browser_read_empty_catalog ... ok
test signed_url_security::test_unknown_domain_rejected ... ok
test signed_url_security::test_path_traversal_various_patterns ... ok
test cors::test_cors_headers_on_response ... ok
test signed_url_security::test_cross_tenant_paths_not_mintable ... ok
test signed_url_security::test_non_allowlist_path_rejected ... ok
test signed_url_security::test_manifest_paths_not_mintable ... ok
test signed_url_security::test_ttl_bounded_to_maximum ... ok
test signed_url_security::test_ttl_default_applied ... ok
test e2e_browser_read::test_browser_read_different_domains ... ok
test e2e_browser_read::test_browser_read_full_lifecycle ... ok

test result: ok. 15 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.40s

     Running tests/openapi_contract.rs (target/debug/deps/openapi_contract-af045c5392ebba87)

running 1 test
test contract_openapi_matches_implementation ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s

     Running tests/openapi_orchestration_routes.rs (target/debug/deps/openapi_orchestration_routes-a7c4c1c40ed05e8f)

running 2 tests
test list_history_endpoints_do_not_document_404 ... ok
test orchestration_read_endpoints_are_documented ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running tests/orchestration_api_tests.rs (target/debug/deps/orchestration_api_tests-cca196b49e4b96df)

running 4 tests
test test_create_backfill_rejects_filter_without_bounds ... ok
test test_create_backfill_accepts_range_selector ... ok
test test_create_backfill_idempotent_on_key ... ok
test test_create_backfill_conflicts_on_payload_mismatch ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.22s

     Running tests/orchestration_parity_gates_m1.rs (target/debug/deps/orchestration_parity_gates_m1-cd0e6ff8ca889dfa)

running 12 tests
test parity_m1_rerun_from_failure_rejects_succeeded_parent ... ok
test parity_m1_rerun_subset_respects_include_downstream ... ok
test parity_m1_rerun_from_failure_plans_only_unsucceeded_tasks ... ok
test parity_m1_deploy_rejects_invalid_manifest_asset_key ... ok
test parity_m1_rejects_invalid_asset_keys ... ok
test parity_m1_trigger_rejects_reserved_lineage_labels ... ok
test parity_m1_rejects_unknown_assets ... ok
test parity_m1_run_key_is_not_reserved_on_bad_request ... ok
test parity_m1_run_key_conflicts_on_payload_mismatch ... ok
test parity_m1_selection_does_not_autofill_tasks ... ok
test parity_m1_run_key_idempotency_is_order_insensitive_for_selection ... ok
test parity_m1_selection_include_downstream_uses_manifest_graph ... ok

test result: ok. 12 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.22s

     Running tests/orchestration_schedule_e2e_tests.rs (target/debug/deps/orchestration_schedule_e2e_tests-15895d9185997bec)

running 8 tests
test list_schedule_ticks_missing_schedule_returns_empty_list ... ok
test schedule_upsert_validates_cron_timezone_and_assets ... ok
test deploy_manifest_idempotency_does_not_duplicate_schedule_events ... ok
test manifest_redeploy_does_not_override_operator_disabled_schedules ... ok
test schedule_tick_detail_exposes_run_key_and_run_id_linkage ... ok
test schedule_definitions_flow_from_manifest_to_tick_history ... ok
test schedule_tick_detail_surfaces_skip_reason_and_error_message ... ok
test schedule_crud_enable_disable_roundtrips_and_appears_in_list ... ok

test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.24s

